{"version":3,"sources":["components/CustomScrollbars/CustomScrollbars.js","components/BackgroundWrapper/BackgroundWrapper.js","components/Nav/Nav.js","components/SignInWrapper/SignInWrapper.js","components/Spinner/Spinner.js","components/SignIn/SignIn.js","components/SignUp/SignUp.js","components/Landing/Landing.js","components/ErrorBoundary/ErrorBoundary.js","components/WindowBox/WindowBox.js","components/Summary/Summary.js","components/Entries/Entries.js","components/Budget/Budget.js","components/SavedBudgets/SavedBudgets.js","components/Profile/Profile.js","components/About/About.js","components/Message/Message.js","components/Tooltip/Tooltip.js","components/PreloadedBackgrounds/PreloadedBackgrounds.js","images/bg1.webp","images/bg2.webp","images/bg3.webp","images/bg4.webp","images/bg5.webp","images/bg6.webp","images/bg7.webp","images/bg8.webp","containers/App/App.js","index.js"],"names":["CustomScrollbars","props","rest","renderThumb","style","className","state","classlist","renderThumbHorizontal","autoHide","bind","this","renderThumbVertical","autoHeight","autoHeightMin","autoHeightMax","autoHideTimeout","autoHideDuration","Component","BackgroundWrapper","background","children","path","useDarkLanding","backgroundImage","Nav","route","handleRouteChange","isLoggedIn","isGuest","handleToggledExpandNav","toggledExpandNav","onClick","SignInWrapper","maxWidth","Spinner","SignIn","handleUsernameInputChange","handlePasswordInputChange","handleEnterKey","handleSignIn","windowMessage","input","loading","username","empty","onChange","onKeyDown","type","maxLength","required","password","SignUp","handleDisplayNameInputChange","handleNewPasswordInputChange","handleSignUp","getPasswordInputStyle","displayName","newPassword","Landing","signInInput","ErrorBoundary","hasError","error","info","setState","React","getWindowDimensions","width","window","innerWidth","height","innerHeight","WindowBox","useState","windowDimensions","setWindowDimensions","useEffect","handleResize","addEventListener","removeEventListener","useWindowDimensions","maxHeight","Summary","value","budget","formattedBudget","editProjectedMonthlyIncome","editActualMonthlyIncome","isEditingProjectedMonthlyIncome","isEditingActualMonthlyIncome","handleProjectedMonthlyIncomeChange","handleActualMonthlyIncomeChange","setTooltip","clearTooltip","tabIndex","onMouseMove","event","onMouseLeave","onFocus","target","projectedMonthlyIncome","onBlur","placeholder","step","autoFocus","actualMonthlyIncome","projectedCost","actualCost","differenceCost","projectedBalance","actualBalance","getDifferenceBalance","differenceBalance","Entries","lastSaved","entries","formattedEntries","editBudgetName","isEditingBudgetName","handleBudgetNameChange","handleAddEntryInputChange","handleAddEntry","handleDeleteEntry","editCategory","editProjectedCost","editActualCost","isEditingCategory","isEditingProjectedCost","isEditingActualCost","isEditingEntryId","handleCategoryChange","handleProjectedCostChange","handleActualCostChange","handleSaveBudget","handleCreateBudgetCopy","handleClickedDeleteBudget","handleDeleteBudget","clickedDeleteBudget","name","budgetName","padding","top","left","transform","fontSize","right","addEntry","minWidth","length","boxSizing","visibility","map","entry","index","id","category","onMouseOver","onMouseUp","difference","display","gridTemplateColumns","justifyItems","gridColumnStart","Date","toLocaleString","year","month","day","hour","minute","toLocaleTimeString","Budget","SavedBudgets","user","handleCreateBudget","handleViewBudget","handleSaveBudgets","currentBudgetIndex","budgets","Profile","allFormatArgs","handleCurrencyChange","handleDisplayNameChange","handlePasswordChange","handleBackgroundChange","backgrounds","currentBackground","maxBudgets","savedBudgets","gap","htmlFor","paddingTop","formatArgs","currency","args","joinDate","toLocaleDateString","About","href","textDecoration","rel","Message","message","zIndex","boxShadow","Tooltip","tooltip","showTooltipLeft","mousePosition","x","y","marginLeft","PreloadedBackgrounds","src","alt","defaultEntries","pathBg1","initial","pathBg2","pathBg3","pathBg4","pathBg6","pathBg7","pathBg5","pathBg8","locale","formatBudget","formatter","formattedNegativeValues","Object","startsWith","replace","concat","fromEntries","formatNegativeValues","format","getProjectedBalance","getActualBalance","getProjectedCost","getActualCost","getDifferenceCost","formatCurrency","minLength","budgetMethods","reduce","acc","entryMethods","getDifference","initialState","isEditing","entryId","showMessage","showTooltipRight","maxEntries","budgetsCreated","App","setMessage","clearMessage","milliseconds","messageTimeout","clearTimeout","setTimeout","clientX","clientY","textContent","localStorage","setItem","selectedBackground","filter","getItem","getNewEntry","entriesCreated","cloneDeep","push","filteredEntries","userClicked","filteredBudgets","assign","deleteBudget","fetch","method","headers","body","JSON","stringify","app_user_id","current_budget_index","then","response","status","Promise","reject","Error","json","data","catch","getNewBudgetName","budgetsNotCopies","test","getFullYear","getMonth","getNewBudget","getBudgetFromData","last_saved","Number","projected_monthly_income","actual_monthly_income","entries_created","updateCurrentBudgetIndex","resolve","createBudget","loadBudget","loadBudgetCopy","loadBudgets","getBudgetCopyName","regex","slice","search","copyNumberArray","copy","parseInt","sort","a","b","copyNameSuffix","copyName","substr","budgetCopy","splice","createBudgetCopy","saveBudgets","saveBudget","trim","updatedEntries","cost","Math","round","numberIsValid","income","Intl","NumberFormat","number","min","MIN_SAFE_INTEGER","max","MAX_SAFE_INTEGER","changeCurrency","format_args","changeDisplayName","display_name","changePassword","new_password","signUp","signIn","loadUser","join_date","finally","callback","code","localStorageBackgroundName","backgroundArray","initialBackgrounds","randomBackgroundName","floor","random","setBackgroundFromLocalStorage","currencyFormatter","landingInput","CSSTransition","in","classNames","timeout","unmountOnExit","onExited","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.77737229.chunk.js","sourcesContent":["import React, { Component } from 'react';\r\n\r\nimport { Scrollbars } from 'react-custom-scrollbars-2';\r\n\r\nclass CustomScrollbars extends Component {\r\n  constructor(props, ...rest) {\r\n    super(props, ...rest);\r\n    const { classlist, autoHide } = props;\r\n    this.state = { classlist, autoHide };\r\n    this.renderThumb = this.renderThumb.bind(this);\r\n  }\r\n\r\n  renderThumb = ({ style, ...props }) => (\r\n    <div\r\n      className={`${this.state.classlist}`}\r\n      style={{ ...style }}\r\n      {...props}\r\n    />\r\n  );\r\n\r\n  renderThumbHorizontal = ({ style, ...props }) => (\r\n    <div className=\"dn\" {...props} />\r\n  );\r\n\r\n  render() {\r\n    return (\r\n      <Scrollbars\r\n        renderThumbHorizontal={this.renderThumbHorizontal}\r\n        renderThumbVertical={this.renderThumb}\r\n        autoHeight\r\n        autoHeightMin={0}\r\n        autoHeightMax=\"100vh\"\r\n        autoHide={this.state.autoHide}\r\n        autoHideTimeout={2000}\r\n        autoHideDuration={500}\r\n        {...this.props}\r\n      />\r\n    );\r\n  }\r\n}\r\n\r\nexport default CustomScrollbars;\r\n","import React from 'react';\r\n\r\nconst BackgroundWrapper = ({ background, children }) => {\r\n  const { path, useDarkLanding } = background;\r\n\r\n  return (\r\n    <div\r\n      className={`background\r\n      ${useDarkLanding ? 'bg--light' : 'bg--dark'}\r\n      `}\r\n      style={{\r\n        backgroundImage: `linear-gradient(rgba(0, 0, 0, 0) 25%, rgba(0, 0, 0, 0.75)), url(${path})`,\r\n      }}\r\n    >\r\n      {children}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default BackgroundWrapper;\r\n","import React from 'react';\r\n\r\nimport './Nav.scss';\r\n\r\nconst Nav = ({\r\n  route,\r\n  handleRouteChange,\r\n  isLoggedIn,\r\n  isGuest,\r\n  handleToggledExpandNav,\r\n  toggledExpandNav,\r\n}) =>\r\n  isLoggedIn ? (\r\n    <nav\r\n      className={`flex justify-between pv2 ph4 bg--window-box\r\n    ${toggledExpandNav ? 'expand' : ''}\r\n    `}\r\n    >\r\n      <div className=\"flex items-center\">\r\n        <button\r\n          onClick={() => handleRouteChange('budget')}\r\n          className=\"clr-light fs-subtitle ff-logo bg-transparent bn ttc selection-transparent pointer relative mr4\"\r\n        >\r\n          CSBudget\r\n        </button>\r\n        <button\r\n          className=\"toggle-expand dn absolute pa0 bg-transparent bn hover-opacity selection-transparent pointer\"\r\n          onClick={handleToggledExpandNav}\r\n        >\r\n          <span className=\"bar w-100 bg--light br4\"></span>\r\n          <span className=\"bar w-100 bg--light br4\"></span>\r\n          <span className=\"bar w-100 bg--light br4\"></span>\r\n        </button>\r\n        <button\r\n          onClick={() => handleRouteChange('budget')}\r\n          className={`clr-light fs-subheading fw3 bg-transparent bn ttc pointer mr4 hover-opacity selection-transparent \r\n          ${route === 'budget' ? 'selected clr-accent-light' : ''}\r\n          `}\r\n        >\r\n          view budget\r\n        </button>\r\n        <button\r\n          onClick={() => handleRouteChange('saved-budgets')}\r\n          className={`clr-light fs-subheading fw3 bg-transparent bn ttc pointer mr4 hover-opacity selection-transparent\r\n          ${route === 'saved-budgets' ? 'selected clr-accent-light' : ''}\r\n          `}\r\n        >\r\n          saved budgets\r\n        </button>\r\n        <button\r\n          onClick={() => handleRouteChange('profile')}\r\n          className={`clr-light fs-subheading fw3 bg-transparent bn ttc pointer hover-opacity selection-transparent\r\n          ${route === 'profile' ? 'selected clr-accent-light' : ''}\r\n          `}\r\n        >\r\n          profile\r\n        </button>\r\n      </div>\r\n      <div className=\"flex items-center\">\r\n        <button\r\n          onClick={() => handleRouteChange('about')}\r\n          className={`clr-light fs-subheading fw3 bg-transparent bn ttc pointer hover-opacity selection-transparent\r\n          ${route === 'about' ? 'selected clr-accent-light' : ''}\r\n          `}\r\n        >\r\n          about\r\n        </button>\r\n        {isGuest ? (\r\n          <button\r\n            onClick={() => handleRouteChange('sign-up')}\r\n            className=\"clr-light fs-subheading fw3 bg-transparent bn ttc pointer ml4 hover-opacity selection-transparent\"\r\n          >\r\n            sign up\r\n          </button>\r\n        ) : (\r\n          <button\r\n            onClick={() => handleRouteChange('sign-in')}\r\n            className=\"clr-light fs-subheading fw3 bg-transparent bn ttc pointer ml4 hover-opacity selection-transparent\"\r\n          >\r\n            sign out\r\n          </button>\r\n        )}\r\n      </div>\r\n    </nav>\r\n  ) : null;\r\n\r\nexport default Nav;\r\n","import React from 'react';\r\n\r\nconst SignInWrapper = ({ handleRouteChange, children }) => {\r\n  return (\r\n    <div className=\"flex justify-center\">\r\n      <div\r\n        className=\"bg--login-box br3 tc pt5 pb4 ph4 ba border-clr-dark\"\r\n        style={{ maxWidth: '30rem' }}\r\n      >\r\n        <h1 className=\"clr-light fs-heading ff-logo fw4 user-select-none tc mb4\">\r\n          CSBudget\r\n        </h1>\r\n        {children}\r\n        <button\r\n          onClick={() => handleRouteChange('budget')}\r\n          className=\"clr-light fs-body fw3 bg-transparent bn pointer underline-hover mt6\"\r\n        >\r\n          Continue as guest.\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SignInWrapper;\r\n","import React from 'react';\r\n\r\nimport './Spinner.scss';\r\n\r\nconst Spinner = () => (\r\n  <div className=\"sk-fading-circle\">\r\n    <div className=\"sk-circle1 sk-circle\"></div>\r\n    <div className=\"sk-circle2 sk-circle\"></div>\r\n    <div className=\"sk-circle3 sk-circle\"></div>\r\n    <div className=\"sk-circle4 sk-circle\"></div>\r\n    <div className=\"sk-circle5 sk-circle\"></div>\r\n    <div className=\"sk-circle6 sk-circle\"></div>\r\n    <div className=\"sk-circle7 sk-circle\"></div>\r\n    <div className=\"sk-circle8 sk-circle\"></div>\r\n    <div className=\"sk-circle9 sk-circle\"></div>\r\n    <div className=\"sk-circle10 sk-circle\"></div>\r\n    <div className=\"sk-circle11 sk-circle\"></div>\r\n    <div className=\"sk-circle12 sk-circle\"></div>\r\n  </div>\r\n);\r\n\r\nexport default Spinner;\r\n","import React from 'react';\r\n\r\nimport Spinner from '../Spinner/Spinner';\r\n\r\nconst SignIn = ({\r\n  handleRouteChange,\r\n  handleUsernameInputChange,\r\n  handlePasswordInputChange,\r\n  handleEnterKey,\r\n  handleSignIn,\r\n  windowMessage,\r\n  input,\r\n  loading,\r\n}) => (\r\n  <>\r\n    <div className=\"relative mb3\">\r\n      <input\r\n        className={`input input-indicator br3 pt4 ph3 pb2 w-100\r\n          ${input.username.empty ? 'empty' : ''}\r\n          `}\r\n        onChange={handleUsernameInputChange}\r\n        onKeyDown={handleEnterKey(handleSignIn)}\r\n        type=\"text\"\r\n        maxLength={input.username.maxLength}\r\n        required\r\n      />\r\n      <span className=\"floating-label\">Username</span>\r\n    </div>\r\n    <div className=\"relative mb4\">\r\n      <input\r\n        className={`input input-indicator br3 pt4 ph3 pb2 w-100\r\n          ${input.password.empty ? 'empty' : ''}\r\n          `}\r\n        onChange={handlePasswordInputChange}\r\n        onKeyDown={handleEnterKey(handleSignIn)}\r\n        type=\"password\"\r\n        maxLength={input.password.maxLength}\r\n        required\r\n      />\r\n      <span className=\"floating-label\">Password</span>\r\n    </div>\r\n\r\n    {windowMessage ? (\r\n      <h6 className=\"clr-red fs-body fw4 mv4\">{windowMessage}</h6>\r\n    ) : null}\r\n\r\n    <button\r\n      onClick={loading ? null : handleSignIn}\r\n      className={`bg--semi-transparent selection-transparent clr-light fs-body fw7 bg--dark bn br3 pa3 mb3 w-100\r\n      ${loading ? '' : 'pointer hover-opacity-75'}`}\r\n    >\r\n      {loading ? <Spinner /> : 'Sign In'}\r\n    </button>\r\n    <button\r\n      onClick={() => handleRouteChange('sign-up')}\r\n      className=\"clr-light fs-body fw3 bg-transparent bn pointer underline-hover\"\r\n    >\r\n      Don't have an account? <span className=\"fw6\">Sign up</span>.\r\n    </button>\r\n  </>\r\n);\r\n\r\nexport default SignIn;\r\n","import React from 'react';\r\n\r\nimport Spinner from '../Spinner/Spinner';\r\n\r\nconst SignUp = ({\r\n  handleRouteChange,\r\n  handleDisplayNameInputChange,\r\n  handleUsernameInputChange,\r\n  handleNewPasswordInputChange,\r\n  handleEnterKey,\r\n  handleSignUp,\r\n  windowMessage,\r\n  input,\r\n  getPasswordInputStyle,\r\n  loading,\r\n}) => (\r\n  <>\r\n    <div className=\"relative mb3\">\r\n      <input\r\n        className={`input input-indicator br3 pt4 ph3 pb2 w-100\r\n          ${input.displayName.empty ? 'empty' : ''}\r\n          `}\r\n        onChange={handleDisplayNameInputChange}\r\n        onKeyDown={handleEnterKey(handleSignUp)}\r\n        type=\"text\"\r\n        maxLength={input.displayName.maxLength}\r\n        required\r\n      />\r\n      <span className=\"floating-label\">Display name</span>\r\n    </div>\r\n    <div className=\"relative mb3\">\r\n      <input\r\n        className={`input input-indicator br3 pt4 ph3 pb2 w-100\r\n          ${input.username.empty ? 'empty' : ''}\r\n          `}\r\n        onChange={handleUsernameInputChange}\r\n        onKeyDown={handleEnterKey(handleSignUp)}\r\n        type=\"text\"\r\n        maxLength={input.username.maxLength}\r\n        required\r\n      />\r\n      <span className=\"floating-label\">Username</span>\r\n    </div>\r\n    <div className=\"relative mb4\">\r\n      <input\r\n        className={`input input-indicator br3 pt4 ph3 pb2 w-100\r\n          ${input.newPassword.empty ? 'empty' : ''}\r\n          ${getPasswordInputStyle(input.newPassword)}\r\n          `}\r\n        onChange={handleNewPasswordInputChange}\r\n        onKeyDown={handleEnterKey(handleSignUp)}\r\n        type=\"password\"\r\n        maxLength={input.newPassword.maxLength}\r\n        required\r\n      />\r\n      <span className=\"floating-label\">Password</span>\r\n    </div>\r\n\r\n    {windowMessage ? (\r\n      <h6 className=\"clr-red fs-body fw4 mv4\">{windowMessage}</h6>\r\n    ) : null}\r\n\r\n    <button\r\n      onClick={loading ? null : handleSignUp}\r\n      className={`bg--semi-transparent selection-transparent clr-light fs-body fw7 bg--dark bn br3 pa3 mb3 w-100\r\n      ${loading ? '' : 'pointer hover-opacity-75'}`}\r\n    >\r\n      {loading ? <Spinner /> : 'Sign Up'}\r\n    </button>\r\n    <button\r\n      onClick={() => handleRouteChange('sign-in')}\r\n      className=\"clr-light fs-body fw3 bg-transparent bn pointer underline-hover\"\r\n    >\r\n      Have an account? <span className=\"fw6\">Sign in</span>.\r\n    </button>\r\n  </>\r\n);\r\n\r\nexport default SignUp;\r\n","import React from 'react';\r\n\r\nimport SignInWrapper from '../SignInWrapper/SignInWrapper';\r\nimport SignIn from '../SignIn/SignIn';\r\nimport SignUp from '../SignUp/SignUp';\r\n\r\nimport './Landing.scss';\r\n\r\nconst Landing = ({\r\n  handleRouteChange,\r\n  route,\r\n  useDarkLanding,\r\n  handleDisplayNameInputChange,\r\n  handleUsernameInputChange,\r\n  handlePasswordInputChange,\r\n  handleNewPasswordInputChange,\r\n  handleEnterKey,\r\n  handleSignUp,\r\n  handleSignIn,\r\n  windowMessage,\r\n  input,\r\n  getPasswordInputStyle,\r\n  loading,\r\n}) => {\r\n  const { displayName, newPassword, ...signInInput } = input;\r\n\r\n  return (\r\n    <div\r\n      className={`Landing flex flex-column justify-center ph4 pv6 ${\r\n        useDarkLanding ? 'clr-dark' : 'clr-light'\r\n      }`}\r\n    >\r\n      <section className=\"landing-text pt4\">\r\n        <h1 className=\"fs-heading fw6 tc mb2\">\r\n          Budgeting doesn't have to be hard.\r\n        </h1>\r\n        <h2 className=\"fs-subheading fw3 tc mb5\">\r\n          Sign up or sign in to save your budgets and access them at any time.\r\n        </h2>\r\n      </section>\r\n\r\n      <SignInWrapper handleRouteChange={handleRouteChange}>\r\n        {route === 'sign-up' ? (\r\n          <SignUp\r\n            handleRouteChange={handleRouteChange}\r\n            handleDisplayNameInputChange={handleDisplayNameInputChange}\r\n            handleUsernameInputChange={handleUsernameInputChange}\r\n            handleNewPasswordInputChange={handleNewPasswordInputChange}\r\n            handleEnterKey={handleEnterKey}\r\n            handleSignUp={handleSignUp}\r\n            windowMessage={windowMessage}\r\n            input={input}\r\n            getPasswordInputStyle={getPasswordInputStyle}\r\n            loading={loading}\r\n          />\r\n        ) : route === 'sign-in' ? (\r\n          <SignIn\r\n            handleRouteChange={handleRouteChange}\r\n            handleUsernameInputChange={handleUsernameInputChange}\r\n            handlePasswordInputChange={handlePasswordInputChange}\r\n            handleEnterKey={handleEnterKey}\r\n            handleSignIn={handleSignIn}\r\n            windowMessage={windowMessage}\r\n            input={signInInput}\r\n            loading={loading}\r\n          />\r\n        ) : null}\r\n      </SignInWrapper>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Landing;\r\n","import React from 'react';\r\n\r\nclass ErrorBoundary extends React.Component {\r\n  constructor() {\r\n    super();\r\n    this.state = {\r\n      hasError: false,\r\n    };\r\n  }\r\n\r\n  componentDidCatch(error, info) {\r\n    this.setState({ hasError: true });\r\n  }\r\n\r\n  render() {\r\n    if (this.state.hasError) {\r\n      return (\r\n        <div className=\"pv5 ph4 tc\">\r\n          <span className=\"clr-light fs-body\">\r\n            Unfortunately, we've encountered an error.\r\n          </span>\r\n        </div>\r\n      );\r\n    }\r\n\r\n    return this.props.children;\r\n  }\r\n}\r\n\r\nexport default ErrorBoundary;\r\n","import React, { useState, useEffect } from 'react';\r\n\r\nimport CustomScrollbars from '../CustomScrollbars/CustomScrollbars';\r\nimport ErrorBoundary from '../ErrorBoundary/ErrorBoundary';\r\n\r\nconst getWindowDimensions = () => ({\r\n  width: window.innerWidth,\r\n  height: window.innerHeight,\r\n});\r\n\r\nconst useWindowDimensions = () => {\r\n  const [windowDimensions, setWindowDimensions] = useState(\r\n    getWindowDimensions()\r\n  );\r\n\r\n  useEffect(() => {\r\n    const handleResize = () => setWindowDimensions(getWindowDimensions());\r\n    window.addEventListener('resize', handleResize);\r\n\r\n    return () => window.removeEventListener('resize', handleResize);\r\n  }, []);\r\n\r\n  return windowDimensions;\r\n};\r\n\r\nconst WindowBox = ({ classlist, toggledExpandNav, children }) => {\r\n  const { width, height } = useWindowDimensions();\r\n\r\n  return (\r\n    <div className={`bg--window-box br3 ${classlist ? classlist : ''}`}>\r\n      <CustomScrollbars\r\n        classlist=\"bg--accent-light hover-opacity br-pill o-90\"\r\n        autoHide\r\n      >\r\n        <ErrorBoundary>\r\n          <div\r\n            className=\"dynamic-height\"\r\n            style={{\r\n              maxHeight:\r\n                height - (toggledExpandNav && width <= 900 ? 355 : 100),\r\n            }}\r\n          >\r\n            {children}\r\n          </div>\r\n        </ErrorBoundary>\r\n      </CustomScrollbars>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default WindowBox;\r\n","import React from 'react';\r\n\r\nimport './Summary.scss';\r\n\r\nconst getClassListIfNegative = (value) => (value < 0 ? 'clr-red fw3' : '');\r\n\r\nconst Summary = ({\r\n  budget,\r\n  formattedBudget,\r\n  editProjectedMonthlyIncome,\r\n  editActualMonthlyIncome,\r\n  isEditingProjectedMonthlyIncome,\r\n  isEditingActualMonthlyIncome,\r\n  handleProjectedMonthlyIncomeChange,\r\n  handleActualMonthlyIncomeChange,\r\n  handleEnterKey,\r\n  setTooltip,\r\n  clearTooltip,\r\n}) => {\r\n  return (\r\n    <div className=\"Summary pv5 ph4\">\r\n      <div className=\"flex flex-column items-center\">\r\n        <h3 className=\"clr-light-accent fs-subheading fw3 mb0 flex items-center\">\r\n          Projected Monthly Income\r\n          <span\r\n            className={`material-icons user-select-none pointer clr-accent-light hover-opacity ml2\r\n              ${isEditingProjectedMonthlyIncome ? 'visibility-hidden' : ''}\r\n              `}\r\n            onClick={editProjectedMonthlyIncome}\r\n            tabIndex=\"0\"\r\n            onKeyDown={handleEnterKey(editProjectedMonthlyIncome)}\r\n            onMouseMove={(event) =>\r\n              setTooltip('Edit projected monthly income', event)\r\n            }\r\n            onMouseLeave={clearTooltip}\r\n          >\r\n            edit\r\n          </span>\r\n        </h3>\r\n\r\n        <div className=\"mb4 w-100\">\r\n          {isEditingProjectedMonthlyIncome ? (\r\n            <input\r\n              className=\"clr-light placeholder-light-accent bg-transparent fs-subtitle fw3 bn w-100 pv0 ph1 tc\"\r\n              onFocus={(event) =>\r\n                (event.target.value = budget.projectedMonthlyIncome\r\n                  ? budget.projectedMonthlyIncome\r\n                  : '')\r\n              }\r\n              onBlur={handleProjectedMonthlyIncomeChange}\r\n              type=\"number\"\r\n              placeholder=\"0\"\r\n              step={500}\r\n              autoFocus={true}\r\n            />\r\n          ) : (\r\n            <h2\r\n              className=\"clr-light fs-subtitle fw3 bn w-100 pointer lh-copy mb0 tc\"\r\n              onClick={editProjectedMonthlyIncome}\r\n            >\r\n              {formattedBudget.projectedMonthlyIncome}\r\n            </h2>\r\n          )}\r\n        </div>\r\n\r\n        <h3 className=\"clr-light-accent fs-subheading fw3 mb0 flex items-center\">\r\n          Actual Monthly Income\r\n          <span\r\n            className={`material-icons user-select-none pointer clr-accent-light hover-opacity ml2\r\n              ${isEditingActualMonthlyIncome ? 'visibility-hidden' : ''}\r\n              `}\r\n            onClick={editActualMonthlyIncome}\r\n            tabIndex=\"0\"\r\n            onKeyDown={handleEnterKey(editActualMonthlyIncome)}\r\n            onMouseMove={(event) =>\r\n              setTooltip('Edit actual monthly income', event)\r\n            }\r\n            onMouseLeave={clearTooltip}\r\n          >\r\n            edit\r\n          </span>\r\n        </h3>\r\n\r\n        <div className=\"mb4 w-100\">\r\n          {isEditingActualMonthlyIncome ? (\r\n            <input\r\n              className=\"clr-light placeholder-light-accent bg-transparent fs-subtitle fw3 bn w-100 pv0 ph1 tc\"\r\n              onFocus={(event) =>\r\n                (event.target.value = budget.actualMonthlyIncome\r\n                  ? budget.actualMonthlyIncome\r\n                  : '')\r\n              }\r\n              onBlur={handleActualMonthlyIncomeChange}\r\n              type=\"number\"\r\n              placeholder=\"0\"\r\n              step={500}\r\n              autoFocus={true}\r\n            />\r\n          ) : (\r\n            <h2\r\n              className=\"clr-light fs-subtitle fw3 bn w-100 pointer lh-copy mb0 tc\"\r\n              onClick={editActualMonthlyIncome}\r\n            >\r\n              {formattedBudget.actualMonthlyIncome}\r\n            </h2>\r\n          )}\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"flex tr\">\r\n        <div className=\"overflow-x-auto ph1\" style={{ width: '22.2rem' }}>\r\n          <h3 className=\"clr-light-accent fs-subheading fw3 mb0\">\r\n            Total Projected Cost\r\n          </h3>\r\n          <h2 className=\"clr-light fs-subtitle ff-primary fw3 mb4 lh-copy\">\r\n            {formattedBudget.projectedCost}\r\n          </h2>\r\n\r\n          <h3 className=\"clr-light-accent fs-subheading fw3 mb0\">\r\n            Total Actual Cost\r\n          </h3>\r\n          <h2 className=\"clr-light fs-subtitle ff-primary fw3 mb4 lh-copy\">\r\n            {formattedBudget.actualCost}\r\n          </h2>\r\n\r\n          <h3 className=\"clr-light-accent fs-subheading fw3 mb0\">\r\n            Total Difference\r\n          </h3>\r\n          <h2 className=\"clr-light fs-subtitle ff-primary fw3 mb0 lh-copy\">\r\n            {formattedBudget.differenceCost}\r\n          </h2>\r\n        </div>\r\n\r\n        <div\r\n          className=\"bg--light-accent br-pill mh4\"\r\n          style={{ width: '2px' }}\r\n        ></div>\r\n\r\n        <div className=\"overflow-x-auto ph1\" style={{ width: '22.2rem' }}>\r\n          <h3 className=\"clr-light-accent fs-subheading fw3 mb0\">\r\n            Projected Balance\r\n          </h3>\r\n          <h2 className=\"clr-light fs-subtitle ff-primary fw3 mb4 lh-copy\">\r\n            {formattedBudget.projectedBalance}\r\n          </h2>\r\n\r\n          <h3 className=\"clr-light-accent fs-subheading fw3 mb0\">\r\n            Actual Balance\r\n          </h3>\r\n          <h2 className=\"clr-light fs-subtitle ff-primary fw3 mb4 lh-copy\">\r\n            {formattedBudget.actualBalance}\r\n          </h2>\r\n\r\n          <h3 className=\"clr-light-accent fs-subheading fw3 mb0\">Difference</h3>\r\n          <h2\r\n            className={`clr-light fs-subtitle ff-primary fw3 mb0 lh-copy\r\n            ${getClassListIfNegative(budget.getDifferenceBalance())}`}\r\n          >\r\n            {formattedBudget.differenceBalance}\r\n          </h2>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Summary;\r\n","import React from 'react';\r\n\r\nimport './Entries.scss';\r\n\r\nconst getLastSavedTimeString = (lastSaved) => {\r\n  return !lastSaved\r\n    ? 'unsaved'\r\n    : /* If last saved one or more days ago, display date and time,\r\n    otherwise display time. */\r\n    new Date() - lastSaved >= 8.64e7\r\n    ? `last saved ${lastSaved.toLocaleString([], {\r\n        year: 'numeric',\r\n        month: 'numeric',\r\n        day: 'numeric',\r\n        hour: '2-digit',\r\n        minute: '2-digit',\r\n      })}`\r\n    : `last saved ${lastSaved.toLocaleTimeString([], {\r\n        hour: '2-digit',\r\n        minute: '2-digit',\r\n      })}`;\r\n};\r\n\r\nconst Entries = ({\r\n  budget,\r\n  entries,\r\n  formattedEntries,\r\n  editBudgetName,\r\n  isEditingBudgetName,\r\n  handleBudgetNameChange,\r\n  handleAddEntryInputChange,\r\n  handleEnterKey,\r\n  handleAddEntry,\r\n  handleDeleteEntry,\r\n  editCategory,\r\n  editProjectedCost,\r\n  editActualCost,\r\n  isEditingCategory,\r\n  isEditingProjectedCost,\r\n  isEditingActualCost,\r\n  isEditingEntryId,\r\n  handleCategoryChange,\r\n  handleProjectedCostChange,\r\n  handleActualCostChange,\r\n  handleSaveBudget,\r\n  handleCreateBudgetCopy,\r\n  handleClickedDeleteBudget,\r\n  handleDeleteBudget,\r\n  clickedDeleteBudget,\r\n  input,\r\n  setTooltip,\r\n  clearTooltip,\r\n}) => (\r\n  <div className=\"Entries pv5 ph4\">\r\n    <div className=\"relative mb5\">\r\n      {isEditingBudgetName ? (\r\n        <input\r\n          className=\"clr-light bg-transparent fs-heading fw3 bn w-100 tc pv0 ph1\"\r\n          onFocus={(event) => (event.target.value = budget.name)}\r\n          onBlur={handleBudgetNameChange}\r\n          type=\"text\"\r\n          maxLength={input.budgetName.maxLength}\r\n          placeholder=\"Budget name\"\r\n          autoFocus={true}\r\n        />\r\n      ) : (\r\n        <div style={{ padding: '0 12rem' }}>\r\n          <span\r\n            className=\"material-icons absolute user-select-none pointer clr-accent-light hover-opacity\"\r\n            onClick={() => handleSaveBudget(budget)}\r\n            tabIndex=\"0\"\r\n            onKeyDown={handleEnterKey(() => handleSaveBudget(budget))}\r\n            onMouseMove={(event) => setTooltip('Save budget', event)}\r\n            onMouseLeave={clearTooltip}\r\n            style={{\r\n              top: '50%',\r\n              left: '0',\r\n              transform: 'translateY(-50%)',\r\n              fontSize: '36px',\r\n            }}\r\n          >\r\n            save\r\n          </span>\r\n          <span\r\n            className=\"material-icons absolute user-select-none pointer clr-accent-light hover-opacity\"\r\n            onClick={() => handleCreateBudgetCopy(budget)}\r\n            tabIndex=\"0\"\r\n            onKeyDown={handleEnterKey(() => handleCreateBudgetCopy(budget))}\r\n            onMouseMove={(event) =>\r\n              setTooltip('Create a copy of this budget', event)\r\n            }\r\n            onMouseLeave={clearTooltip}\r\n            style={{\r\n              top: '50%',\r\n              left: '6rem',\r\n              transform: 'translateY(-50%)',\r\n              fontSize: '36px',\r\n            }}\r\n          >\r\n            copy_all\r\n          </span>\r\n          <h1\r\n            className=\"clr-light fs-heading fw3 bn w-100 tc pointer text-break lh-copy\"\r\n            onClick={editBudgetName}\r\n          >\r\n            {budget.name}\r\n          </h1>\r\n          <span\r\n            className=\"material-icons absolute user-select-none pointer clr-accent-light hover-opacity\"\r\n            onClick={editBudgetName}\r\n            tabIndex=\"0\"\r\n            onKeyDown={handleEnterKey(editBudgetName)}\r\n            onMouseMove={(event) => setTooltip('Edit budget name', event)}\r\n            onMouseLeave={clearTooltip}\r\n            style={{\r\n              top: '50%',\r\n              right: '0',\r\n              transform: 'translateY(-50%)',\r\n              fontSize: '36px',\r\n            }}\r\n          >\r\n            edit\r\n          </span>\r\n        </div>\r\n      )}\r\n    </div>\r\n\r\n    <div className=\"flex mb4\">\r\n      <div className=\"relative flex-grow-1 mr3\">\r\n        <input\r\n          onChange={handleAddEntryInputChange}\r\n          onKeyDown={handleEnterKey(handleAddEntry)}\r\n          className=\"input input-indicator br3 pt4 ph3 pb2 w-100\"\r\n          type=\"text\"\r\n          maxLength={input.addEntry.maxLength}\r\n          value={input.addEntry.value}\r\n          required\r\n        />\r\n        <span className=\"floating-label\">Category of entry</span>\r\n      </div>\r\n\r\n      <button\r\n        onClick={handleAddEntry}\r\n        className=\"clr-light fs-body ff-mono fw3 ttc selection-transparent hover-opacity br3 bn bg--accent-dark pa3 pointer\"\r\n        style={{ minWidth: 'max-content' }}\r\n      >\r\n        add entry\r\n      </button>\r\n    </div>\r\n\r\n    <h2 className=\"clr-light fs-subtitle fw3 mb3\">\r\n      Entries ({budget.entries.length})\r\n    </h2>\r\n\r\n    <div className=\"bg--light text-break br3\">\r\n      <div className=\"grid-entry bb border-clr-light-accent\">\r\n        <span\r\n          className=\"ph2\"\r\n          style={{\r\n            width: '24px',\r\n            boxSizing: 'content-box',\r\n            visibility: 'hidden',\r\n          }}\r\n        ></span>\r\n        <span className=\"clr-dark fs-subheading fw4 tc pv3 ph1\">Category</span>\r\n        <span className=\"clr-dark fs-subheading fw4 tr pv3 ph1\">\r\n          Projected Cost\r\n        </span>\r\n        <span className=\"clr-dark fs-subheading fw4 tr pv3 ph1\">\r\n          Actual Cost\r\n        </span>\r\n        <span className=\"clr-dark fs-subheading fw4 tr pv3 pr2 pl1\">\r\n          Difference\r\n        </span>\r\n      </div>\r\n\r\n      <div className=\"entries\">\r\n        {formattedEntries.map((entry, index) => (\r\n          <div key={entry.id} className=\"grid-entry items-center\">\r\n            <span\r\n              className=\"material-icons clr-dark-accent user-select-none pointer hover-opacity pv2 ph2 tc\"\r\n              onClick={() => handleDeleteEntry(entry.id)}\r\n              tabIndex=\"0\"\r\n              onKeyDown={handleEnterKey(() => handleDeleteEntry(entry.id))}\r\n              onMouseMove={(event) =>\r\n                setTooltip(`Delete \"${entry.category}\"`, event)\r\n              }\r\n              onMouseOver={(event) =>\r\n                setTooltip(`Delete \"${entry.category}\"`, event)\r\n              }\r\n              onMouseLeave={clearTooltip}\r\n              onMouseUp={clearTooltip}\r\n            >\r\n              delete\r\n            </span>\r\n\r\n            {isEditingCategory && isEditingEntryId === entry.id ? (\r\n              <input\r\n                className=\"clr-dark placeholder-dark-accent bg-transparent fs-body bn w-100 h-100 tc pv2 ph1\"\r\n                onFocus={(event) => (event.target.value = entry.category)}\r\n                onBlur={(event) => handleCategoryChange(entry.id, event)}\r\n                type=\"text\"\r\n                maxLength={input.category.maxLength}\r\n                placeholder=\"Category\"\r\n                autoFocus={true}\r\n              />\r\n            ) : (\r\n              <span\r\n                className=\"clr-dark fs-body pointer pv2 ph1 tc\"\r\n                onClick={() => editCategory(entry.id)}\r\n                tabIndex=\"0\"\r\n                onKeyDown={handleEnterKey(() => editCategory(entry.id))}\r\n              >\r\n                {entry.category}\r\n              </span>\r\n            )}\r\n            {isEditingProjectedCost && isEditingEntryId === entry.id ? (\r\n              <input\r\n                className=\"clr-dark placeholder-dark-accent bg-transparent fs-body bn w-100 h-100 tc pv2 ph1\"\r\n                onFocus={(event) =>\r\n                  (event.target.value = entries[index].projectedCost\r\n                    ? entries[index].projectedCost\r\n                    : '')\r\n                }\r\n                onBlur={(event) => handleProjectedCostChange(entry.id, event)}\r\n                type=\"number\"\r\n                placeholder=\"0\"\r\n                step={50}\r\n                autoFocus={true}\r\n              />\r\n            ) : (\r\n              <span\r\n                className=\"clr-dark fs-body pointer pv2 ph1 flex justify-end items-center\"\r\n                onClick={() => editProjectedCost(entry.id)}\r\n                tabIndex=\"0\"\r\n                onKeyDown={handleEnterKey(() => editProjectedCost(entry.id))}\r\n              >\r\n                {entry.projectedCost}\r\n              </span>\r\n            )}\r\n            {isEditingActualCost && isEditingEntryId === entry.id ? (\r\n              <input\r\n                className=\"clr-dark placeholder-dark-accent bg-transparent fs-body bn w-100 h-100 tc pv2 ph1\"\r\n                onFocus={(event) =>\r\n                  (event.target.value = entries[index].actualCost\r\n                    ? entries[index].actualCost\r\n                    : '')\r\n                }\r\n                onBlur={(event) => handleActualCostChange(entry.id, event)}\r\n                type=\"number\"\r\n                placeholder=\"0\"\r\n                step={50}\r\n                autoFocus={true}\r\n              />\r\n            ) : (\r\n              <span\r\n                className=\"clr-dark fs-body pointer pv2 ph1 flex justify-end items-center\"\r\n                onClick={() => editActualCost(entry.id)}\r\n                tabIndex=\"0\"\r\n                onKeyDown={handleEnterKey(() => editActualCost(entry.id))}\r\n              >\r\n                {entry.actualCost}\r\n              </span>\r\n            )}\r\n            <span className=\"clr-dark fw6 fs-body tr pv2 pr2 pl1\">\r\n              {entry.difference}\r\n            </span>\r\n          </div>\r\n        ))}\r\n      </div>\r\n    </div>\r\n\r\n    <div\r\n      className=\"mt4 items-end\"\r\n      style={{\r\n        display: 'grid',\r\n        gridTemplateColumns: '1fr auto 1fr',\r\n        justifyItems: 'start',\r\n      }}\r\n    >\r\n      <time\r\n        className=\"clr-light-accent fs-body ff-mono fw3 ttc tc\"\r\n        style={{ gridColumnStart: '2' }}\r\n      >\r\n        {getLastSavedTimeString(budget.lastSaved)}\r\n      </time>\r\n\r\n      {clickedDeleteBudget ? (\r\n        <button\r\n          onClick={() => handleDeleteBudget(budget.id)}\r\n          onBlur={() => handleClickedDeleteBudget(false)}\r\n          className=\"clr-light fs-body ff-mono fw3 ttc selection-transparent hover-opacity br3 bn bg--dark-red pa3 ml-auto pointer\"\r\n          style={{ gridColumnStart: '3' }}\r\n        >\r\n          confirm delete\r\n        </button>\r\n      ) : (\r\n        <button\r\n          onClick={() => handleClickedDeleteBudget(true)}\r\n          className=\"clr-light fs-body ff-mono fw3 ttc selection-transparent hover-opacity br3 bn bg--dark-red pa3 ml-auto pointer\"\r\n          style={{ gridColumnStart: '3' }}\r\n        >\r\n          delete budget\r\n        </button>\r\n      )}\r\n    </div>\r\n  </div>\r\n);\r\n\r\nexport default Entries;\r\n","import React from 'react';\r\n\r\nimport WindowBox from '../WindowBox/WindowBox';\r\nimport Summary from '../Summary/Summary';\r\nimport Entries from '../Entries/Entries';\r\n\r\nimport './Budget.scss';\r\n\r\nconst Budget = ({\r\n  budget,\r\n  formattedBudget,\r\n  entries,\r\n  formattedEntries,\r\n  editBudgetName,\r\n  editProjectedMonthlyIncome,\r\n  editActualMonthlyIncome,\r\n  isEditingBudgetName,\r\n  isEditingProjectedMonthlyIncome,\r\n  isEditingActualMonthlyIncome,\r\n  handleBudgetNameChange,\r\n  handleProjectedMonthlyIncomeChange,\r\n  handleActualMonthlyIncomeChange,\r\n  handleAddEntryInputChange,\r\n  handleEnterKey,\r\n  handleAddEntry,\r\n  handleDeleteEntry,\r\n  editCategory,\r\n  editProjectedCost,\r\n  editActualCost,\r\n  isEditingCategory,\r\n  isEditingProjectedCost,\r\n  isEditingActualCost,\r\n  isEditingEntryId,\r\n  handleCategoryChange,\r\n  handleProjectedCostChange,\r\n  handleActualCostChange,\r\n  handleSaveBudget,\r\n  handleCreateBudgetCopy,\r\n  handleClickedDeleteBudget,\r\n  handleDeleteBudget,\r\n  clickedDeleteBudget,\r\n  input,\r\n  setTooltip,\r\n  clearTooltip,\r\n  toggledExpandNav,\r\n}) => (\r\n  <div className=\"Budget flex items-start pa4\">\r\n    <WindowBox classlist=\"flex-grow-1 mh3\" toggledExpandNav={toggledExpandNav}>\r\n      <Entries\r\n        budget={budget}\r\n        entries={entries}\r\n        formattedEntries={formattedEntries}\r\n        editBudgetName={editBudgetName}\r\n        isEditingBudgetName={isEditingBudgetName}\r\n        handleBudgetNameChange={handleBudgetNameChange}\r\n        handleAddEntryInputChange={handleAddEntryInputChange}\r\n        handleEnterKey={handleEnterKey}\r\n        handleAddEntry={handleAddEntry}\r\n        handleDeleteEntry={handleDeleteEntry}\r\n        editCategory={editCategory}\r\n        editProjectedCost={editProjectedCost}\r\n        editActualCost={editActualCost}\r\n        isEditingCategory={isEditingCategory}\r\n        isEditingProjectedCost={isEditingProjectedCost}\r\n        isEditingActualCost={isEditingActualCost}\r\n        isEditingEntryId={isEditingEntryId}\r\n        handleCategoryChange={handleCategoryChange}\r\n        handleProjectedCostChange={handleProjectedCostChange}\r\n        handleActualCostChange={handleActualCostChange}\r\n        handleSaveBudget={handleSaveBudget}\r\n        handleCreateBudgetCopy={handleCreateBudgetCopy}\r\n        handleClickedDeleteBudget={handleClickedDeleteBudget}\r\n        handleDeleteBudget={handleDeleteBudget}\r\n        clickedDeleteBudget={clickedDeleteBudget}\r\n        input={input}\r\n        setTooltip={setTooltip}\r\n        clearTooltip={clearTooltip}\r\n      />\r\n    </WindowBox>\r\n\r\n    <WindowBox classlist=\"mh3\" toggledExpandNav={toggledExpandNav}>\r\n      <Summary\r\n        budget={budget}\r\n        formattedBudget={formattedBudget}\r\n        editProjectedMonthlyIncome={editProjectedMonthlyIncome}\r\n        editActualMonthlyIncome={editActualMonthlyIncome}\r\n        isEditingProjectedMonthlyIncome={isEditingProjectedMonthlyIncome}\r\n        isEditingActualMonthlyIncome={isEditingActualMonthlyIncome}\r\n        handleProjectedMonthlyIncomeChange={handleProjectedMonthlyIncomeChange}\r\n        handleActualMonthlyIncomeChange={handleActualMonthlyIncomeChange}\r\n        handleEnterKey={handleEnterKey}\r\n        setTooltip={setTooltip}\r\n        clearTooltip={clearTooltip}\r\n      />\r\n    </WindowBox>\r\n  </div>\r\n);\r\n\r\nexport default Budget;\r\n","import React from 'react';\r\n\r\nimport WindowBox from '../WindowBox/WindowBox';\r\n\r\nimport './SavedBudgets.scss';\r\n\r\nconst SavedBudgets = ({\r\n  user,\r\n  handleCreateBudget,\r\n  handleViewBudget,\r\n  handleSaveBudgets,\r\n  currentBudgetIndex,\r\n  handleEnterKey,\r\n  toggledExpandNav,\r\n}) => {\r\n  return (\r\n    <div className=\"SavedBudgets flex justify-center pa4 tc\">\r\n      <div\r\n        className=\"w-100\"\r\n        style={{ minWidth: '42rem', maxWidth: 'max-content' }}\r\n      >\r\n        <WindowBox toggledExpandNav={toggledExpandNav}>\r\n          <div className=\"pv5 ph4\">\r\n            <h1 className=\"clr-light fs-subheading fw3 mb3 text-break\">\r\n              {user.budgets.length === 0 ? (\r\n                `${user.displayName}, you don't have any budgets.`\r\n              ) : user.budgets.length === 1 ? (\r\n                `${user.displayName}, here's your budget.`\r\n              ) : (\r\n                <>\r\n                  {user.displayName}, here are your{' '}\r\n                  <span className=\"clr-accent-light fw6\">\r\n                    {' '}\r\n                    {user.budgets.length}{' '}\r\n                  </span>\r\n                  budgets.\r\n                </>\r\n              )}\r\n            </h1>\r\n\r\n            <ul className=\"list pl0\">\r\n              {user.budgets.length === 0\r\n                ? null\r\n                : user.budgets.map((budget, index) => (\r\n                    <li\r\n                      key={budget.id}\r\n                      onClick={() => handleViewBudget(index)}\r\n                      tabIndex={0}\r\n                      onKeyDown={handleEnterKey(() => handleViewBudget(index))}\r\n                      className={`clr-light fs-subtitle fw3 hover-opacity pointer text-break mv3 ph1\r\n                      ${\r\n                        index === currentBudgetIndex\r\n                          ? 'clr-accent-light fw6'\r\n                          : ''\r\n                      }\r\n                      `}\r\n                    >\r\n                      {budget.name}\r\n                    </li>\r\n                  ))}\r\n            </ul>\r\n\r\n            <div className=\"flex mt5\">\r\n              <button\r\n                onClick={handleCreateBudget}\r\n                className=\"clr-light fs-body ff-mono fw3 ttc selection-transparent hover-opacity br3 bn bg--accent-dark pa3 mr2 w-100 pointer\"\r\n              >\r\n                new budget\r\n              </button>\r\n              <button\r\n                onClick={handleSaveBudgets}\r\n                className=\"clr-light fs-body ff-mono fw3 ttc selection-transparent hover-opacity br3 bn bg--green pa3 ml2 w-100 pointer\"\r\n              >\r\n                save budgets\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </WindowBox>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SavedBudgets;\r\n","import React from 'react';\r\n\r\nimport WindowBox from '../WindowBox/WindowBox';\r\n\r\nimport './Profile.scss';\r\n\r\nconst Profile = ({\r\n  user,\r\n  input,\r\n  windowMessage,\r\n  isGuest,\r\n  allFormatArgs,\r\n  handleCurrencyChange,\r\n  handleDisplayNameInputChange,\r\n  handleDisplayNameChange,\r\n  handlePasswordInputChange,\r\n  handleNewPasswordInputChange,\r\n  handlePasswordChange,\r\n  handleEnterKey,\r\n  handleBackgroundChange,\r\n  backgrounds,\r\n  currentBackground,\r\n  maxBudgets,\r\n  savedBudgets,\r\n  toggledExpandNav,\r\n  getPasswordInputStyle,\r\n}) => (\r\n  <div className=\"Profile flex justify-center pa4 tc\">\r\n    <div className=\"w-100\" style={{ maxWidth: '42rem' }}>\r\n      <WindowBox toggledExpandNav={toggledExpandNav}>\r\n        <div className=\"pv5 ph4\">\r\n          <h1 className=\"fs-subheading fw3 text-break mb2\">\r\n            {user.displayName}\r\n          </h1>\r\n          <h2 className=\"clr-light-accent fs-body fw3 mb5\">\r\n            {user.budgets.length}/{maxBudgets} budgets  {savedBudgets.length}{' '}\r\n            saved\r\n          </h2>\r\n\r\n          <div className=\"mb4\">\r\n            <h2 className=\"clr-light fs-body fw3 mb3\">Backgrounds</h2>\r\n            <div\r\n              className=\"flex flex-wrap justify-center\"\r\n              style={{ gap: '1rem' }}\r\n            >\r\n              {backgrounds.map((background, index) => (\r\n                <button\r\n                  key={index}\r\n                  onClick={handleBackgroundChange}\r\n                  className={`clr-light fs-body ff-mono fw3 ttc selection-transparent hover-opacity br3 bn bg--accent-dark pa2 pointer\r\n                  ${background.name === currentBackground.name ? 'fw6' : ''}\r\n                  `}\r\n                >\r\n                  {background.name}\r\n                </button>\r\n              ))}\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"mb4\">\r\n            <label\r\n              className=\"clr-light fs-body fw3 mb3 db\"\r\n              htmlFor=\"display-name\"\r\n            >\r\n              Change display name\r\n            </label>\r\n            <div className=\"flex\">\r\n              <div className=\"relative flex-grow-1\">\r\n                <input\r\n                  className=\"input input-indicator br3 ph3 pb1 w-100\"\r\n                  id=\"display-name\"\r\n                  onChange={handleDisplayNameInputChange}\r\n                  onKeyDown={handleEnterKey(handleDisplayNameChange)}\r\n                  onBlur={handleDisplayNameChange}\r\n                  style={{ paddingTop: '15px' }}\r\n                  type=\"text\"\r\n                  name=\"display-name\"\r\n                  value={input.displayName.value}\r\n                  maxLength={input.displayName.maxLength}\r\n                  required\r\n                />\r\n                <span className=\"floating-label small\">New display name</span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {isGuest ? null : (\r\n            <div className=\"mb4\">\r\n              <label\r\n                className=\"clr-light fs-body fw3 mb3 db\"\r\n                htmlFor={input.password.value ? 'new-password' : 'password'}\r\n              >\r\n                Change password\r\n              </label>\r\n              <div className=\"flex flex-column\">\r\n                <div className=\"relative mb3\">\r\n                  <input\r\n                    className={`input input-indicator br3 ph3 pb1 w-100\r\n                    ${input.password.empty ? 'empty' : ''}\r\n                    `}\r\n                    id=\"password\"\r\n                    onChange={handlePasswordInputChange}\r\n                    onKeyDown={handleEnterKey(handlePasswordChange)}\r\n                    style={{ paddingTop: '15px' }}\r\n                    type=\"password\"\r\n                    name=\"password\"\r\n                    value={input.password.value}\r\n                    maxLength={input.password.maxLength}\r\n                    required\r\n                  />\r\n                  <span className=\"floating-label small\">Current password</span>\r\n                </div>\r\n\r\n                <div className=\"relative\">\r\n                  <input\r\n                    className={`input input-indicator br3 ph3 pb1 w-100\r\n                  ${input.newPassword.empty ? 'empty' : ''}\r\n                  ${getPasswordInputStyle(input.newPassword)}\r\n                  `}\r\n                    id=\"new-password\"\r\n                    onChange={handleNewPasswordInputChange}\r\n                    onKeyDown={handleEnterKey(handlePasswordChange)}\r\n                    onBlur={handlePasswordChange}\r\n                    style={{ paddingTop: '15px' }}\r\n                    type=\"password\"\r\n                    name=\"new-password\"\r\n                    value={input.newPassword.value}\r\n                    maxLength={input.newPassword.maxLength}\r\n                    required\r\n                  />\r\n                  <span className=\"floating-label small\">New password</span>\r\n                </div>\r\n              </div>\r\n\r\n              {windowMessage ? (\r\n                <h6 className=\"clr-red fs-body fw4 mt4 mb5\">{windowMessage}</h6>\r\n              ) : null}\r\n            </div>\r\n          )}\r\n\r\n          <div className=\"mb5\">\r\n            <label\r\n              className=\"clr-light fs-body fw3 mb3 db\"\r\n              htmlFor=\"currencies\"\r\n            >\r\n              Change currency\r\n            </label>\r\n            <select\r\n              className=\"clr-dark bg--light br3 bn pv3 ph2\"\r\n              id=\"currencies\"\r\n              onClick={handleCurrencyChange}\r\n              onChange={handleCurrencyChange}\r\n            >\r\n              <option\r\n                className=\"clr-dark fs-body\"\r\n                key={user.formatArgs.currency}\r\n                value={user.formatArgs.currency}\r\n              >\r\n                Select currency\r\n              </option>\r\n              {allFormatArgs.map((args) => (\r\n                <option\r\n                  className={`clr-dark fs-body\r\n                    ${args.currency === user.formatArgs.currency ? 'fw7' : ''}\r\n                    `}\r\n                  key={args.currency}\r\n                  value={args.currency}\r\n                >\r\n                  {args.currency}\r\n                </option>\r\n              ))}\r\n            </select>\r\n          </div>\r\n\r\n          <h2 className=\"clr-light-accent fs-body fw3 mb0\">\r\n            Member since {user.joinDate.toLocaleDateString()}\r\n          </h2>\r\n        </div>\r\n      </WindowBox>\r\n    </div>\r\n  </div>\r\n);\r\n\r\nexport default Profile;\r\n","import React from 'react';\r\nimport WindowBox from '../WindowBox/WindowBox';\r\n\r\nconst About = ({ toggledExpandNav }) => (\r\n  <div className=\"flex justify-center pa4\">\r\n    <WindowBox toggledExpandNav={toggledExpandNav}>\r\n      <div className=\"pv5 ph4\">\r\n        <p className=\"clr-light fs-body\">\r\n          CSBudget is maintained by Christopher Straub and distributed under the\r\n          MIT License. You can get in touch with Christopher{' '}\r\n          <a\r\n            href=\"https://christopherstraub.me/\"\r\n            className=\"clr-accent-light anchor hover-opacity\"\r\n            style={{ textDecoration: 'none' }}\r\n            target=\"_blank\"\r\n            rel=\"noreferrer\"\r\n          >\r\n            here\r\n          </a>\r\n          .\r\n        </p>\r\n      </div>\r\n    </WindowBox>\r\n  </div>\r\n);\r\n\r\nexport default About;\r\n","import React from 'react';\r\n\r\nimport './Message.scss';\r\n\r\nconst Message = ({ message }) => (\r\n  <span\r\n    className=\"message fixed pointer-events-none clr-light fs-body bg--accent-dark tc mb0 pa4 br3 br--top\"\r\n    style={{\r\n      zIndex: '999',\r\n      boxShadow: 'rgba(0, 0, 0, 0.56) 0px 22px 70px 4px',\r\n    }}\r\n  >\r\n    {message}\r\n  </span>\r\n);\r\n\r\nexport default Message;\r\n","import React from 'react';\r\n\r\nimport './Tooltip.scss';\r\n\r\nconst Tooltip = ({ tooltip, showTooltipLeft, mousePosition }) => (\r\n  <span\r\n    className={`fixed pointer-events-none clr-light fs-body bg--accent-dark tc mb0 pa3 br3\r\n    ${showTooltipLeft ? 'arrow-right' : 'arrow-left'}\r\n    `}\r\n    style={{\r\n      left: mousePosition.x,\r\n      top: mousePosition.y,\r\n      transform: showTooltipLeft\r\n        ? 'translate(-100%, -50%)'\r\n        : 'translateY(-50%)',\r\n      marginLeft: showTooltipLeft ? '-15px' : '15px',\r\n      width: 'max-content',\r\n      maxWidth: '75vw',\r\n      zIndex: '999',\r\n    }}\r\n  >\r\n    {tooltip}\r\n  </span>\r\n);\r\nexport default Tooltip;\r\n","import React from 'react';\r\n\r\nconst PreloadedBackgrounds = ({ backgrounds }) => {\r\n  return (\r\n    <div className=\"dn\">\r\n      {backgrounds.map((background) => (\r\n        <img\r\n          key={background.name}\r\n          src={background.path}\r\n          alt={background.name}\r\n        />\r\n      ))}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PreloadedBackgrounds;\r\n","export default __webpack_public_path__ + \"static/media/bg1.c17b8822.webp\";","export default __webpack_public_path__ + \"static/media/bg2.05585106.webp\";","export default __webpack_public_path__ + \"static/media/bg3.c3d0fcbf.webp\";","export default __webpack_public_path__ + \"static/media/bg4.bb9dbac0.webp\";","export default __webpack_public_path__ + \"static/media/bg5.115cac3b.webp\";","export default __webpack_public_path__ + \"static/media/bg6.1d8ee2f0.webp\";","export default __webpack_public_path__ + \"static/media/bg7.34b4eef3.webp\";","export default __webpack_public_path__ + \"static/media/bg8.544411e1.webp\";","import React, { Component } from 'react';\r\n\r\nimport CustomScrollbars from '../../components/CustomScrollbars/CustomScrollbars';\r\nimport BackgroundWrapper from '../../components/BackgroundWrapper/BackgroundWrapper';\r\nimport Nav from '../../components/Nav/Nav';\r\nimport Landing from '../../components/Landing/Landing';\r\nimport Budget from '../../components/Budget/Budget';\r\nimport SavedBudgets from '../../components/SavedBudgets/SavedBudgets';\r\nimport Profile from '../../components/Profile/Profile';\r\nimport About from '../../components/About/About';\r\nimport Message from '../../components/Message/Message';\r\nimport Tooltip from '../../components/Tooltip/Tooltip';\r\nimport PreloadedBackgrounds from '../../components/PreloadedBackgrounds/PreloadedBackgrounds';\r\n\r\nimport cloneDeep from 'lodash/cloneDeep';\r\nimport { CSSTransition } from 'react-transition-group';\r\n\r\nimport pathBg1 from '../../images/bg1.webp';\r\nimport pathBg2 from '../../images/bg2.webp';\r\nimport pathBg3 from '../../images/bg3.webp';\r\nimport pathBg4 from '../../images/bg4.webp';\r\nimport pathBg5 from '../../images/bg5.webp';\r\nimport pathBg6 from '../../images/bg6.webp';\r\nimport pathBg7 from '../../images/bg7.webp';\r\nimport pathBg8 from '../../images/bg8.webp';\r\n\r\nimport './App.scss';\r\n\r\nconst defaultEntries = [\r\n  {\r\n    id: 0,\r\n    category: 'Housing costs',\r\n    projectedCost: 1000,\r\n    actualCost: 0,\r\n  },\r\n  {\r\n    id: 1,\r\n    category: 'Vehicle expenses',\r\n    projectedCost: 200,\r\n    actualCost: 0,\r\n  },\r\n  {\r\n    id: 2,\r\n    category: 'Phone bill',\r\n    projectedCost: 20,\r\n    actualCost: 0,\r\n  },\r\n  {\r\n    id: 3,\r\n    category: 'Groceries',\r\n    projectedCost: 250,\r\n    actualCost: 0,\r\n  },\r\n  {\r\n    id: 4,\r\n    category: 'Savings',\r\n    projectedCost: 100,\r\n    actualCost: 0,\r\n  },\r\n];\r\n\r\nconst backgrounds = [\r\n  { name: 'banff', path: pathBg1, useDarkLanding: true, initial: true },\r\n  { name: 'machu picchu', path: pathBg2, useDarkLanding: true, initial: true },\r\n  {\r\n    name: 'alpine mountains',\r\n    path: pathBg3,\r\n    useDarkLanding: false,\r\n    initial: true,\r\n  },\r\n  {\r\n    name: 'yosemite valley',\r\n    path: pathBg4,\r\n    useDarkLanding: true,\r\n    initial: true,\r\n  },\r\n  {\r\n    name: 'grand canyon',\r\n    path: pathBg6,\r\n    useDarkLanding: false,\r\n    initial: false,\r\n  },\r\n  { name: 'trail', path: pathBg7, useDarkLanding: false, initial: false },\r\n  { name: 'mittenwald', path: pathBg5, useDarkLanding: false, initial: false },\r\n  { name: 'silhouette', path: pathBg8, useDarkLanding: false, initial: false },\r\n];\r\n\r\nconst allFormatArgs = [\r\n  { locale: 'es-AR', currency: 'ARS' },\r\n  { locale: 'en-AU', currency: 'AUD' },\r\n  { locale: [], currency: 'BOB' },\r\n  { locale: 'pt-BR', currency: 'BRL' },\r\n  { locale: 'en-CA', currency: 'CAD' },\r\n  { locale: [], currency: 'CHF' },\r\n  { locale: 'es-CL', currency: 'CLP' },\r\n  { locale: 'zh-CN', currency: 'CNY' },\r\n  { locale: 'es-CO', currency: 'COP' },\r\n  { locale: [], currency: 'EUR' },\r\n  { locale: 'en-GB', currency: 'GBP' },\r\n  { locale: 'zh-HK', currency: 'HKD' },\r\n  { locale: 'jp-JP', currency: 'JPY' },\r\n  { locale: 'es-MX', currency: 'MXN' },\r\n  { locale: 'en-NZ', currency: 'NZD' },\r\n  { locale: [], currency: 'PEN' },\r\n  { locale: 'en-US', currency: 'USD' },\r\n  { locale: [], currency: 'VES' },\r\n];\r\n\r\n/**\r\n *\r\n * @param {Object} budget The budget to be formatted (values should be numbers).\r\n * @param {Object} formatter The formatter instantiated with\r\n * the Intl.NumberFormat() constructor.\r\n * @returns {Object} Formatted budget.\r\n */\r\nconst formatCurrency = (budget, formatter) => ({\r\n  projectedMonthlyIncome: formatter.format(budget.projectedMonthlyIncome),\r\n  actualMonthlyIncome: formatter.format(budget.actualMonthlyIncome),\r\n  projectedBalance: formatter.format(budget.getProjectedBalance()),\r\n  actualBalance: formatter.format(budget.getActualBalance()),\r\n  differenceBalance: formatter.format(budget.getDifferenceBalance()),\r\n  projectedCost: formatter.format(budget.getProjectedCost()),\r\n  actualCost: formatter.format(budget.getActualCost()),\r\n  differenceCost: formatter.format(budget.getDifferenceCost()),\r\n});\r\n\r\n// Format negative numbers as numbers enclosed in parentheses.\r\nconst formatNegativeValues = (formattedBudget) => {\r\n  const entries = Object.entries(formattedBudget);\r\n\r\n  const formattedNegativeValues = entries.map((entry) =>\r\n    entry[1].startsWith('-')\r\n      ? [entry[0], entry[1].replace('-', '(').concat(')')]\r\n      : entry\r\n  );\r\n\r\n  return Object.fromEntries(formattedNegativeValues);\r\n};\r\n\r\n// formatBudget formats negative values in pre-formatted budget.\r\nconst formatBudget = (budget, formatter) =>\r\n  formatNegativeValues(formatCurrency(budget, formatter));\r\n\r\n/**\r\n *\r\n * @param {Object} entries The entries to be formatted.\r\n * @param {Object} formatter The formatter instantiated with\r\n * the Intl.NumberFormat() constructor.\r\n * @returns {Object} Formatted entries.\r\n */\r\nconst formatEntries = (entries, formatter) =>\r\n  !entries?.length\r\n    ? []\r\n    : entries.map((entry) => ({\r\n        id: entry.id,\r\n        category: entry.category,\r\n        projectedCost: formatter.format(entry.projectedCost),\r\n        actualCost: formatter.format(entry.actualCost),\r\n        difference: formatter.format(entry.getDifference()),\r\n      }));\r\n\r\nconst getPasswordInputStyle = (password) => {\r\n  return password.value.length < password.minLength ||\r\n    password.value.length > password.maxLength\r\n    ? ''\r\n    : 'valid';\r\n};\r\n\r\nconst budgetMethods = {\r\n  getProjectedBalance() {\r\n    return this.projectedMonthlyIncome - this.getProjectedCost();\r\n  },\r\n  getActualBalance() {\r\n    return this.actualMonthlyIncome - this.getActualCost();\r\n  },\r\n  getDifferenceBalance() {\r\n    return this.getActualBalance() - this.getProjectedBalance();\r\n  },\r\n  getProjectedCost() {\r\n    return !this.entries.length\r\n      ? 0\r\n      : this.entries\r\n          .map((entry) => entry.projectedCost)\r\n          .reduce((acc, value) => acc + value);\r\n  },\r\n  getActualCost() {\r\n    return !this.entries.length\r\n      ? 0\r\n      : this.entries\r\n          .map((entry) => entry.actualCost)\r\n          .reduce((acc, value) => acc + value);\r\n  },\r\n  getDifferenceCost() {\r\n    return this.getProjectedCost() - this.getActualCost();\r\n  },\r\n};\r\n\r\nconst entryMethods = {\r\n  getDifference() {\r\n    return this.projectedCost - this.actualCost;\r\n  },\r\n};\r\n\r\n/*\r\nValid routes:\r\n'sign-in', 'sign-up', 'budget', 'saved-budgets', 'profile', 'about'\r\n*/\r\n\r\n// Set initial state to be passed into App state.\r\nconst initialState = {\r\n  route: 'sign-up',\r\n  input: {\r\n    displayName: { value: '', empty: false, maxLength: 50 },\r\n    username: { value: '', empty: false, maxLength: 50 },\r\n    password: { value: '', empty: false, minLength: 8, maxLength: 128 },\r\n    newPassword: { value: '', empty: false, minLength: 8, maxLength: 128 },\r\n    budgetName: { maxLength: 50 },\r\n    addEntry: { value: '', maxLength: 50 },\r\n    category: { maxLength: 50 },\r\n  },\r\n  isEditing: {\r\n    budgetName: false,\r\n    projectedMonthlyIncome: false,\r\n    actualMonthlyIncome: false,\r\n    category: false,\r\n    projectedCost: false,\r\n    actualCost: false,\r\n    entryId: null,\r\n  },\r\n  background: backgrounds[0],\r\n  message: null,\r\n  showMessage: false,\r\n  tooltip: null,\r\n  showTooltipRight: false,\r\n  showTooltipLeft: false,\r\n  windowMessage: null,\r\n  mousePosition: { x: null, y: null },\r\n  isLoggedIn: false,\r\n  isGuest: true,\r\n  clickedDeleteBudget: false,\r\n  toggledExpandNav: false,\r\n  maxBudgets: 100,\r\n  maxEntries: 100,\r\n  loading: false,\r\n  user: {\r\n    id: null,\r\n    username: null,\r\n    displayName: 'Guest',\r\n    joinDate: null,\r\n    currentBudgetIndex: 0,\r\n    formatArgs: allFormatArgs[16], // ['en-US', 'USD']\r\n    budgetsCreated: 0,\r\n  },\r\n};\r\n\r\nclass App extends Component {\r\n  constructor() {\r\n    super();\r\n    this.state = initialState;\r\n    this.state.user.budgets = [this.getNewBudget()];\r\n    this.state.user.budgetsCreated++;\r\n  }\r\n\r\n  /* Set background from localStorage if it exists there,\r\n  otherwise set background randomly. */\r\n  setBackgroundFromLocalStorage() {\r\n    const localStorageBackgroundName = localStorage.getItem('background');\r\n    if (localStorageBackgroundName) {\r\n      const backgroundArray = backgrounds.filter(\r\n        (background) => background.name === localStorageBackgroundName\r\n      );\r\n\r\n      if (backgroundArray.length === 0)\r\n        backgroundArray[0] = this.state.background;\r\n\r\n      const state = { ...this.state, background: backgroundArray[0] };\r\n      this.setState(state);\r\n      return;\r\n    }\r\n\r\n    const initialBackgrounds = backgrounds.filter(\r\n      (background) => background.initial\r\n    );\r\n    const randomInitialBackgroundIndex = Math.floor(\r\n      Math.random() * initialBackgrounds.length\r\n    );\r\n    const randomBackgroundName =\r\n      initialBackgrounds[randomInitialBackgroundIndex].name;\r\n\r\n    const backgroundArray = backgrounds.filter(\r\n      (background) => background.name === randomBackgroundName\r\n    );\r\n\r\n    const state = { ...this.state, background: backgroundArray[0] };\r\n    this.setState(state);\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.setBackgroundFromLocalStorage();\r\n  }\r\n\r\n  setMessage = (message) => this.setState({ message, showMessage: true });\r\n\r\n  /**\r\n   *\r\n   * @param {number} milliseconds Number of milliseconds to clear message after.\r\n   */\r\n  clearMessage = (milliseconds = 4000) => {\r\n    if (this.messageTimeout) clearTimeout(this.messageTimeout);\r\n\r\n    this.messageTimeout = setTimeout(\r\n      () => this.setState({ showMessage: false }),\r\n      milliseconds\r\n    );\r\n  };\r\n\r\n  setTooltip = (tooltip, event) => {\r\n    /* If event.clientX / window.innerWidth < 0.5, cursor is on\r\n    left half of screen and tooltip will show to the right of cursor.\r\n    Otherwise, tooltip will show to the left of cursor. */\r\n    const showTooltipRight = event.clientX / window.innerWidth < 0.5;\r\n\r\n    const mousePosition = {\r\n      ...this.state.mousePosition,\r\n      x: event.clientX,\r\n      y: event.clientY,\r\n    };\r\n\r\n    this.setState({\r\n      tooltip,\r\n      showTooltipRight,\r\n      showTooltipLeft: !showTooltipRight,\r\n      mousePosition,\r\n    });\r\n  };\r\n\r\n  clearTooltip = () => {\r\n    const mousePosition = {\r\n      ...this.state.mousePosition,\r\n      x: null,\r\n      y: null,\r\n    };\r\n\r\n    this.setState({\r\n      showTooltipRight: false,\r\n      showTooltipLeft: false,\r\n      mousePosition,\r\n    });\r\n  };\r\n\r\n  /* Only filter through backgrounds if selected background is different\r\n  from current background. */\r\n  handleBackgroundChange = (event) => {\r\n    if (this.state.background.name !== event.target.textContent) {\r\n      localStorage.setItem('background', event.target.textContent);\r\n\r\n      const selectedBackground = backgrounds.filter(\r\n        (background) => background.name === event.target.textContent\r\n      );\r\n      this.setState({ background: selectedBackground[0] });\r\n    } else if (localStorage.getItem('background') !== event.target.textContent)\r\n      localStorage.setItem('background', event.target.textContent);\r\n  };\r\n\r\n  // Update state entry category input with user input.\r\n  handleAddEntryInputChange = (event) => {\r\n    const addEntry = {\r\n      ...this.state.input.addEntry,\r\n      value: event.target.value,\r\n    };\r\n    const input = { ...this.state.input, addEntry };\r\n    this.setState({ input });\r\n  };\r\n\r\n  /* Create entry object.\r\n  If input entry category is empty, set to 'No category set'. */\r\n  getNewEntry = () => ({\r\n    id: this.state.user.budgets[this.state.user.currentBudgetIndex]\r\n      .entriesCreated,\r\n    category: this.state.input.addEntry.value || 'No category set',\r\n    projectedCost: 0,\r\n    actualCost: 0,\r\n    getDifference() {\r\n      return this.projectedCost - this.actualCost;\r\n    },\r\n  });\r\n\r\n  // Add entry and reset entry category input.\r\n  handleAddEntry = () => {\r\n    if (\r\n      this.state.user.budgets[this.state.user.currentBudgetIndex].entries\r\n        .length === this.state.maxEntries\r\n    ) {\r\n      this.setMessage('Maximum number of entries created.');\r\n      this.clearMessage(6000);\r\n      return;\r\n    }\r\n    const user = cloneDeep(this.state.user);\r\n    user.budgets[user.currentBudgetIndex].entries.push(this.getNewEntry());\r\n    const addEntry = {\r\n      ...this.state.input.addEntry,\r\n      value: '',\r\n    };\r\n    user.budgets[user.currentBudgetIndex].entriesCreated++;\r\n    const input = { ...this.state.input, addEntry };\r\n    this.setState({ user, input });\r\n  };\r\n\r\n  handleDeleteEntry = (entryId) => {\r\n    const user = cloneDeep(this.state.user);\r\n    const entries = user.budgets[user.currentBudgetIndex].entries;\r\n    const filteredEntries = entries.filter((entry) => entry.id !== entryId);\r\n    user.budgets[user.currentBudgetIndex].entries = filteredEntries;\r\n    this.setState({ user });\r\n  };\r\n\r\n  // Change delete button to confirm delete button.\r\n  handleClickedDeleteBudget = (userClicked) => {\r\n    this.setState({ clickedDeleteBudget: userClicked ? true : false });\r\n  };\r\n\r\n  handleDeleteBudget = (id) => {\r\n    if (this.state.isGuest) {\r\n      const filteredBudgets = this.state.user.budgets.filter(\r\n        (budget) => budget.id !== id\r\n      );\r\n\r\n      const user = Object.assign(cloneDeep(this.state.user), {\r\n        budgets: filteredBudgets,\r\n        currentBudgetIndex: this.state.user.currentBudgetIndex\r\n          ? this.state.user.currentBudgetIndex - 1\r\n          : 0,\r\n      });\r\n      this.setState({\r\n        user,\r\n        route: 'saved-budgets',\r\n        clickedDeleteBudget: false,\r\n      });\r\n      this.setMessage('Budget deleted.');\r\n      this.clearMessage();\r\n    } else this.deleteBudget(id);\r\n  };\r\n\r\n  deleteBudget = (id) =>\r\n    fetch('https://csbudget-api.herokuapp.com/budget', {\r\n      method: 'delete',\r\n      headers: { 'Content-Type': 'application/json' },\r\n      body: JSON.stringify({\r\n        app_user_id: this.state.user.id,\r\n        id,\r\n        current_budget_index: this.state.user.currentBudgetIndex\r\n          ? this.state.user.currentBudgetIndex - 1\r\n          : 0,\r\n      }),\r\n    })\r\n      .then((response) =>\r\n        response.status === 400 ? Promise.reject(Error()) : response.json()\r\n      )\r\n      .then((data) => {\r\n        const filteredBudgets = this.state.user.budgets.filter(\r\n          (budget) => budget.id !== data.id\r\n        );\r\n\r\n        this.setState({\r\n          user: {\r\n            ...this.state.user,\r\n            budgets: filteredBudgets,\r\n            currentBudgetIndex: this.state.user.currentBudgetIndex\r\n              ? this.state.user.currentBudgetIndex - 1\r\n              : 0,\r\n          },\r\n          route: 'saved-budgets',\r\n          clickedDeleteBudget: false,\r\n        });\r\n        this.setMessage('Budget deleted.');\r\n        this.clearMessage();\r\n      })\r\n      .catch((error) => {\r\n        this.setMessage(\r\n          'There was a problem deleting your budget. Please try again later.'\r\n        );\r\n        this.clearMessage(6000);\r\n      });\r\n\r\n  // Name depends on current date and current number of budgets.\r\n  getNewBudgetName = () => {\r\n    const budgetsNotCopies =\r\n      this.state.user.budgets?.filter((budget) => !/\\(\\d+\\)$/.test(budget.name))\r\n        .length ?? 0;\r\n\r\n    const date = new Date(\r\n      new Date().getFullYear(),\r\n      new Date().getMonth() + budgetsNotCopies\r\n    );\r\n\r\n    return date.toLocaleDateString([], {\r\n      month: 'long',\r\n      year: 'numeric',\r\n    });\r\n  };\r\n\r\n  getNewBudget = () => ({\r\n    id: this.state.user.budgetsCreated,\r\n    name: this.getNewBudgetName(),\r\n    lastSaved: null,\r\n    projectedMonthlyIncome: 0,\r\n    actualMonthlyIncome: 0,\r\n    ...budgetMethods,\r\n    entriesCreated: defaultEntries.length,\r\n    entries: defaultEntries.map((entry) => ({ ...entry, ...entryMethods })),\r\n  });\r\n\r\n  getBudgetFromData = (budget) => ({\r\n    id: budget.id,\r\n    name: budget.name,\r\n    lastSaved: budget.last_saved ? new Date(budget.last_saved) : null,\r\n    projectedMonthlyIncome: Number(budget.projected_monthly_income),\r\n    actualMonthlyIncome: Number(budget.actual_monthly_income),\r\n    ...budgetMethods,\r\n    entriesCreated: Number(budget.entries_created),\r\n    entries: budget.entries.map((entry) => ({ ...entry, ...entryMethods })),\r\n  });\r\n\r\n  /* Sets currentBudgetIndex to the selected budget's index\r\n  and route to 'budget'. */\r\n  handleViewBudget = (index) => {\r\n    this.setState({\r\n      user: { ...this.state.user, currentBudgetIndex: index },\r\n      route: 'budget',\r\n    });\r\n    if (!this.state.isGuest) this.updateCurrentBudgetIndex(index);\r\n  };\r\n\r\n  // Update user's current budget index.\r\n  updateCurrentBudgetIndex = (index) =>\r\n    fetch('https://csbudget-api.herokuapp.com/current-budget-index', {\r\n      method: 'put',\r\n      headers: { 'Content-Type': 'application/json' },\r\n      body: JSON.stringify({\r\n        id: this.state.user.id,\r\n        current_budget_index: index,\r\n      }),\r\n    });\r\n\r\n  handleCreateBudget = () => {\r\n    // Check max budget constraint.\r\n    if (this.state.user.budgets.length === this.state.maxBudgets) {\r\n      this.setMessage(\r\n        \"Maximum number of budgets created. That's a lot of budgets!\"\r\n      );\r\n      this.clearMessage(6000);\r\n      return;\r\n    }\r\n\r\n    if (this.state.isGuest) {\r\n      const user = cloneDeep(this.state.user);\r\n      user.budgets.push(this.getNewBudget());\r\n      user.budgetsCreated++;\r\n      this.setState({ user });\r\n\r\n      if (this.state.user.budgets.length === 4) {\r\n        this.setMessage(\r\n          `${user.budgets.length} budgets! You're a savvy financial planner.`\r\n        );\r\n        this.clearMessage(5000);\r\n      } else {\r\n        this.setMessage('Budget created.');\r\n        this.clearMessage();\r\n      }\r\n\r\n      // Return resolved promise to make function thenable.\r\n      return Promise.resolve();\r\n    } else return this.createBudget();\r\n  };\r\n\r\n  loadBudget = (data) =>\r\n    this.setState({\r\n      user: {\r\n        ...this.state.user,\r\n        budgets: [...this.state.user.budgets, this.getBudgetFromData(data)],\r\n      },\r\n    });\r\n\r\n  loadBudgetCopy = (data) =>\r\n    this.setState({\r\n      user: {\r\n        ...this.state.user,\r\n        currentBudgetIndex: this.state.user.budgets.length,\r\n        budgets: [...this.state.user.budgets, this.getBudgetFromData(data)],\r\n      },\r\n    });\r\n\r\n  loadBudgets = (data) =>\r\n    this.setState({\r\n      user: {\r\n        ...this.state.user,\r\n        budgets: data.map((budget) => this.getBudgetFromData(budget)),\r\n      },\r\n    });\r\n\r\n  createBudget = () =>\r\n    fetch('https://csbudget-api.herokuapp.com/budget', {\r\n      method: 'post',\r\n      headers: { 'Content-Type': 'application/json' },\r\n      body: JSON.stringify({\r\n        app_user_id: this.state.user.id,\r\n        name: this.getNewBudgetName(),\r\n      }),\r\n    })\r\n      .then((response) =>\r\n        response.status === 400 ? Promise.reject(Error()) : response.json()\r\n      )\r\n      .then((data) => {\r\n        this.loadBudget(data);\r\n\r\n        if (this.state.user.budgets.length === 5) {\r\n          this.setMessage(\r\n            `${this.state.user.budgets.length} budgets! You're a savvy financial planner.`\r\n          );\r\n          this.clearMessage(5000);\r\n        } else {\r\n          this.setMessage('Budget created.');\r\n          this.clearMessage();\r\n        }\r\n      })\r\n      .catch((error) => {\r\n        this.setMessage(\r\n          'There was a problem creating your budget. Please try again later.'\r\n        );\r\n        this.clearMessage(6000);\r\n      });\r\n\r\n  /**\r\n   *\r\n   * @param {string} name The budget name that is being copied.\r\n   * @returns {string} The budget copy name.\r\n   * Ex. 'August 2021 (2)' if there are no copies of 'August 2021' or\r\n   * 'August 2021 (5)' if the newest copy is 'August 2021 (4)'.\r\n   */\r\n  getBudgetCopyName = (name) => {\r\n    const regex = /\\(\\d+\\)$/;\r\n    /*\r\n    \\( matches the character '('.\r\n    \\d matches a digit (equivalent to [0-9])\r\n    + matches the previous token (a digit) between one and unlimited times.\r\n    \\) matches the character ')'.\r\n    $ asserts position at the end of the string.\r\n    */\r\n    if (regex.test(name)) name = name.slice(0, name.search(regex) - 1);\r\n\r\n    const copyNumberArray = this.state.user.budgets\r\n      // Find budget copies.\r\n      .filter(\r\n        (budget) => budget.name.startsWith(name) && regex.test(budget.name)\r\n      )\r\n      // Extract and sort copy numbers in descending order.\r\n      .map((copy) =>\r\n        parseInt(\r\n          copy.name.slice(copy.name.search(regex) + 1, copy.name.length - 1)\r\n        )\r\n      )\r\n      .sort((a, b) => b - a);\r\n\r\n    const copyNameSuffix = ` (${\r\n      copyNumberArray[0] ? copyNumberArray[0] + 1 : 2\r\n    })`;\r\n    const copyName = name + copyNameSuffix;\r\n\r\n    // Return shortened copy name if it is too long.\r\n    return copyName.length <= this.state.input.budgetName.maxLength\r\n      ? copyName\r\n      : name\r\n          .substr(\r\n            0,\r\n            this.state.input.budgetName.maxLength -\r\n              copyNameSuffix.length -\r\n              '...'.length\r\n          )\r\n          .concat('...') + copyNameSuffix;\r\n  };\r\n\r\n  handleCreateBudgetCopy = (budget) => {\r\n    if (this.state.user.budgets.length === this.state.maxBudgets) {\r\n      this.setMessage(\r\n        \"Maximum number of budgets created. That's a lot of budgets!\"\r\n      );\r\n      this.clearMessage(6000);\r\n      return;\r\n    }\r\n\r\n    if (this.state.isGuest) {\r\n      const budgetCopy = {\r\n        ...cloneDeep(budget),\r\n        id: this.state.user.budgetsCreated,\r\n        name: this.getBudgetCopyName(budget.name),\r\n        lastSaved: null,\r\n      };\r\n\r\n      const user = cloneDeep(this.state.user);\r\n      user.budgets.splice(\r\n        this.state.user.currentBudgetIndex + 1,\r\n        0,\r\n        budgetCopy\r\n      );\r\n      user.currentBudgetIndex++;\r\n      user.budgetsCreated++;\r\n      this.setState({ user });\r\n\r\n      if (this.state.user.budgets.length === 4) {\r\n        this.setMessage(\r\n          `${user.budgets.length} budgets! You're a savvy financial planner.`\r\n        );\r\n        this.clearMessage(5000);\r\n        return;\r\n      }\r\n      this.setMessage('Budget copy created.');\r\n      this.clearMessage();\r\n    } else this.createBudgetCopy(budget);\r\n  };\r\n\r\n  createBudgetCopy = (budget) =>\r\n    fetch('https://csbudget-api.herokuapp.com/budget-copy', {\r\n      method: 'post',\r\n      headers: { 'Content-Type': 'application/json' },\r\n      body: JSON.stringify({\r\n        app_user_id: this.state.user.id,\r\n        name: this.getBudgetCopyName(budget.name),\r\n        projected_monthly_income: budget.projectedMonthlyIncome,\r\n        actual_monthly_income: budget.actualMonthlyIncome,\r\n        entries_created: budget.entriesCreated,\r\n        entries: budget.entries,\r\n      }),\r\n    })\r\n      .then((response) =>\r\n        response.status === 400 ? Promise.reject(Error()) : response.json()\r\n      )\r\n      .then((data) => {\r\n        this.loadBudgetCopy(data);\r\n\r\n        if (this.state.user.budgets.length === 5) {\r\n          this.setMessage(\r\n            `${this.state.user.budgets.length} budgets! You're a savvy financial planner.`\r\n          );\r\n          this.clearMessage(5000);\r\n        } else {\r\n          this.setMessage('Budget copy created.');\r\n          this.clearMessage();\r\n        }\r\n      })\r\n      .catch((error) => {\r\n        this.setMessage(\r\n          'There was a problem creating your budget copy. Please try again later.'\r\n        );\r\n        this.clearMessage(6000);\r\n      });\r\n\r\n  handleSaveBudgets = () => {\r\n    if (this.state.isGuest) {\r\n      this.setMessage('Sign in to save your budgets.');\r\n      this.clearMessage();\r\n    } else if (!this.state.user.budgets.length) {\r\n      this.setMessage('No budgets to save.');\r\n      this.clearMessage();\r\n    } else this.saveBudgets();\r\n  };\r\n\r\n  saveBudgets = () =>\r\n    fetch('https://csbudget-api.herokuapp.com/budgets', {\r\n      method: 'put',\r\n      headers: { 'Content-Type': 'application/json' },\r\n      body: JSON.stringify({\r\n        app_user_id: this.state.user.id,\r\n        budgets: this.state.user.budgets,\r\n      }),\r\n    })\r\n      .then((response) =>\r\n        response.status === 400 ? Promise.reject(Error()) : response.json()\r\n      )\r\n      .then((data) => {\r\n        this.loadBudgets(data);\r\n\r\n        this.setMessage(\r\n          data.length === 1\r\n            ? 'Saved 1 budget.'\r\n            : `Saved ${data.length} budgets.`\r\n        );\r\n        this.clearMessage();\r\n      })\r\n      .catch((error) => {\r\n        this.setMessage(\r\n          'There was a problem saving your budgets. Please try again later.'\r\n        );\r\n        this.clearMessage(6000);\r\n      });\r\n\r\n  handleSaveBudget = (budget) => {\r\n    if (this.state.isGuest) {\r\n      this.setMessage('Sign in to save your budgets.');\r\n      this.clearMessage();\r\n    } else this.saveBudget(budget);\r\n  };\r\n\r\n  saveBudget = (budget) =>\r\n    fetch('https://csbudget-api.herokuapp.com/budget', {\r\n      method: 'put',\r\n      headers: { 'Content-Type': 'application/json' },\r\n      body: JSON.stringify({\r\n        app_user_id: this.state.user.id,\r\n        id: budget.id,\r\n        name: budget.name,\r\n        projected_monthly_income: budget.projectedMonthlyIncome,\r\n        actual_monthly_income: budget.actualMonthlyIncome,\r\n        entries_created: budget.entriesCreated,\r\n        entries: budget.entries,\r\n      }),\r\n    })\r\n      .then((response) =>\r\n        response.status === 400 ? Promise.reject(Error()) : response.json()\r\n      )\r\n      .then((data) => {\r\n        const user = cloneDeep(this.state.user);\r\n        user.budgets = user.budgets.map((budget) =>\r\n          budget.id === data.id\r\n            ? { ...budget, lastSaved: new Date(data.last_saved) }\r\n            : budget\r\n        );\r\n        this.setState({ user });\r\n        this.setMessage('Budget saved.');\r\n        this.clearMessage();\r\n      })\r\n      .catch((error) => {\r\n        this.setMessage(\r\n          'There was a problem saving your budget. Please try again later.'\r\n        );\r\n        this.clearMessage(6000);\r\n      });\r\n\r\n  editBudgetName = () => {\r\n    this.clearTooltip();\r\n    const isEditing = { ...this.state.isEditing, budgetName: true };\r\n    this.setState({ isEditing });\r\n  };\r\n  editCategory = (entryId) => {\r\n    const isEditing = { ...this.state.isEditing, category: true, entryId };\r\n    this.setState({ isEditing });\r\n  };\r\n  editProjectedCost = (entryId) => {\r\n    const isEditing = { ...this.state.isEditing, projectedCost: true, entryId };\r\n    this.setState({ isEditing });\r\n  };\r\n  editActualCost = (entryId) => {\r\n    const isEditing = { ...this.state.isEditing, actualCost: true, entryId };\r\n    this.setState({ isEditing });\r\n  };\r\n  editProjectedMonthlyIncome = () => {\r\n    const isEditing = { ...this.state.isEditing, projectedMonthlyIncome: true };\r\n    this.setState({ isEditing });\r\n  };\r\n  editActualMonthlyIncome = () => {\r\n    const isEditing = { ...this.state.isEditing, actualMonthlyIncome: true };\r\n    this.setState({ isEditing });\r\n  };\r\n\r\n  handleBudgetNameChange = (event) => {\r\n    if (\r\n      event.target.value.trim() &&\r\n      event.target.value !==\r\n        this.state.user.budgets[this.state.user.currentBudgetIndex].name\r\n    ) {\r\n      const user = cloneDeep(this.state.user);\r\n      user.budgets[this.state.user.currentBudgetIndex].name =\r\n        event.target.value;\r\n      this.setState({ user });\r\n      this.setMessage('Budget name updated.');\r\n      this.clearMessage();\r\n    }\r\n    const isEditing = {\r\n      ...this.state.isEditing,\r\n      budgetName: false,\r\n      entryId: null,\r\n    };\r\n    this.setState({ isEditing });\r\n  };\r\n\r\n  handleCategoryChange = (entryId, event) => {\r\n    const entry = this.state.user.budgets[\r\n      this.state.user.currentBudgetIndex\r\n    ].entries.filter((entry) => entry.id === entryId);\r\n\r\n    if (event.target.value.trim() && event.target.value !== entry.category) {\r\n      const user = cloneDeep(this.state.user);\r\n      const updatedEntries = user.budgets[\r\n        this.state.user.currentBudgetIndex\r\n      ].entries.map((entry) => {\r\n        if (entry.id === entryId) {\r\n          entry.category = event.target.value;\r\n          return entry;\r\n        }\r\n        return entry;\r\n      });\r\n      user.budgets[this.state.user.currentBudgetIndex].entries = updatedEntries;\r\n      this.setState({ user });\r\n    }\r\n    const isEditing = { ...this.state.isEditing, category: false };\r\n    this.setState({ isEditing });\r\n  };\r\n\r\n  handleProjectedCostChange = (entryId, event) => {\r\n    const cost = event.target.value;\r\n\r\n    // If input is not equal to current state, update state.\r\n    if (\r\n      Math.round(cost * 100) / 100 !==\r\n        this.state.user.budgets[\r\n          this.state.user.currentBudgetIndex\r\n        ].entries.filter((entry) => entry.id === entryId)[0].projectedCost &&\r\n      this.numberIsValid(cost)\r\n    ) {\r\n      const user = cloneDeep(this.state.user);\r\n      const updatedEntries = user.budgets[user.currentBudgetIndex].entries.map(\r\n        (entry) => {\r\n          if (entry.id === entryId)\r\n            return { ...entry, projectedCost: Math.round(cost * 100) / 100 };\r\n          return entry;\r\n        }\r\n      );\r\n      user.budgets[this.state.user.currentBudgetIndex].entries = updatedEntries;\r\n      this.setState({ user });\r\n    }\r\n    const isEditing = {\r\n      ...this.state.isEditing,\r\n      projectedCost: false,\r\n      entryId: null,\r\n    };\r\n    this.setState({ isEditing });\r\n  };\r\n\r\n  handleActualCostChange = (entryId, event) => {\r\n    const cost = event.target.value;\r\n\r\n    // If input is not equal to current state, update state.\r\n    if (\r\n      Math.round(cost * 100) / 100 !==\r\n        this.state.user.budgets[\r\n          this.state.user.currentBudgetIndex\r\n        ].entries.filter((entry) => entry.id === entryId)[0].actualCost &&\r\n      this.numberIsValid(cost)\r\n    ) {\r\n      const user = cloneDeep(this.state.user);\r\n      const updatedEntries = user.budgets[user.currentBudgetIndex].entries.map(\r\n        (entry) => {\r\n          if (entry.id === entryId)\r\n            return { ...entry, actualCost: Math.round(cost * 100) / 100 };\r\n          return entry;\r\n        }\r\n      );\r\n      user.budgets[this.state.user.currentBudgetIndex].entries = updatedEntries;\r\n      this.setState({ user });\r\n    }\r\n    const isEditing = {\r\n      ...this.state.isEditing,\r\n      actualCost: false,\r\n      entryId: null,\r\n    };\r\n    this.setState({ isEditing });\r\n  };\r\n\r\n  handleProjectedMonthlyIncomeChange = (event) => {\r\n    const income = event.target.value;\r\n\r\n    // If input is not equal to current state, update state.\r\n    if (\r\n      Math.round(income * 100) / 100 !==\r\n        this.state.user.budgets[this.state.user.currentBudgetIndex]\r\n          .projectedMonthlyIncome &&\r\n      this.numberIsValid(income)\r\n    ) {\r\n      const user = cloneDeep(this.state.user);\r\n      user.budgets[user.currentBudgetIndex].projectedMonthlyIncome =\r\n        Math.round(income * 100) / 100;\r\n\r\n      this.setState({ user });\r\n\r\n      this.setMessage(\r\n        `Projected monthly income updated to ${new Intl.NumberFormat(\r\n          user.formatArgs.locale,\r\n          {\r\n            style: 'currency',\r\n            currency: user.formatArgs.currency,\r\n          }\r\n        ).format(income)}.`\r\n      );\r\n      this.clearMessage(5000);\r\n    }\r\n    const isEditing = {\r\n      ...this.state.isEditing,\r\n      projectedMonthlyIncome: false,\r\n    };\r\n    this.setState({ isEditing });\r\n  };\r\n\r\n  handleActualMonthlyIncomeChange = (event) => {\r\n    const income = event.target.value;\r\n\r\n    // If input is not equal to current state, update state.\r\n    if (\r\n      Math.round(income * 100) / 100 !==\r\n        this.state.user.budgets[this.state.user.currentBudgetIndex]\r\n          .actualMonthlyIncome &&\r\n      this.numberIsValid(income)\r\n    ) {\r\n      const user = cloneDeep(this.state.user);\r\n      user.budgets[user.currentBudgetIndex].actualMonthlyIncome =\r\n        Math.round(income * 100) / 100;\r\n\r\n      this.setState({ user });\r\n      this.setMessage(\r\n        `Actual monthly income updated to ${new Intl.NumberFormat(\r\n          user.formatArgs.locale,\r\n          {\r\n            style: 'currency',\r\n            currency: user.formatArgs.currency,\r\n          }\r\n        ).format(income)}.`\r\n      );\r\n      this.clearMessage(5000);\r\n    }\r\n    const isEditing = { ...this.state.isEditing, actualMonthlyIncome: false };\r\n    this.setState({ isEditing });\r\n  };\r\n\r\n  numberIsValid = (\r\n    number,\r\n    min = Number.MIN_SAFE_INTEGER,\r\n    max = Number.MAX_SAFE_INTEGER\r\n  ) => number <= max && number >= min;\r\n\r\n  handleCurrencyChange = (event) => {\r\n    const formatArgs = allFormatArgs.filter(\r\n      (args) => args.currency === event.target.value\r\n    )[0];\r\n    if (formatArgs.currency !== this.state.user.formatArgs.currency) {\r\n      if (this.state.isGuest) {\r\n        this.setState({\r\n          user: {\r\n            ...this.state.user,\r\n            formatArgs,\r\n          },\r\n        });\r\n        this.setMessage('Currency changed successfully.');\r\n        this.clearMessage();\r\n      } else this.changeCurrency(formatArgs);\r\n    }\r\n  };\r\n\r\n  changeCurrency = (formatArgs) =>\r\n    fetch('https://csbudget-api.herokuapp.com/currency', {\r\n      method: 'put',\r\n      headers: { 'Content-Type': 'application/json' },\r\n      body: JSON.stringify({\r\n        id: this.state.user.id,\r\n        format_args: formatArgs,\r\n      }),\r\n    })\r\n      .then((response) =>\r\n        response.status === 400 ? Promise.reject(Error()) : response.json()\r\n      )\r\n      .then((data) => {\r\n        this.setState({\r\n          user: {\r\n            ...this.state.user,\r\n            formatArgs: data.format_args,\r\n          },\r\n        });\r\n        this.setMessage('Currency changed successfully.');\r\n        this.clearMessage();\r\n      })\r\n      .catch((error) => {\r\n        this.setMessage(\r\n          'There was a problem changing your currency. Please try again later.'\r\n        );\r\n        this.clearMessage(6000);\r\n      });\r\n\r\n  // Update state displayName input with user input.\r\n  handleDisplayNameInputChange = (event) =>\r\n    this.setState({\r\n      input: {\r\n        ...this.state.input,\r\n        displayName: {\r\n          ...this.state.input.displayName,\r\n          value: event.target.value,\r\n          empty: false,\r\n        },\r\n      },\r\n    });\r\n\r\n  /* Change display name if input is not empty or whitespace and\r\n  different from current display name. */\r\n  handleDisplayNameChange = () => {\r\n    if (\r\n      this.state.input.displayName.value.trim() &&\r\n      this.state.input.displayName.value !== this.state.user.displayName\r\n    ) {\r\n      if (this.state.isGuest) {\r\n        // Clear input and update user display name.\r\n        const input = cloneDeep(this.state.input);\r\n        input.displayName.value = '';\r\n        const user = {\r\n          ...this.state.user,\r\n          displayName: this.state.input.displayName.value,\r\n        };\r\n        this.setState({ input, user });\r\n        this.setMessage('Display name changed successfully.');\r\n        this.clearMessage();\r\n      } else this.changeDisplayName();\r\n    }\r\n  };\r\n\r\n  changeDisplayName = () =>\r\n    fetch('https://csbudget-api.herokuapp.com/display-name', {\r\n      method: 'put',\r\n      headers: { 'Content-Type': 'application/json' },\r\n      body: JSON.stringify({\r\n        id: this.state.user.id,\r\n        display_name: this.state.input.displayName.value,\r\n      }),\r\n    })\r\n      .then((response) =>\r\n        response.status === 400 ? Promise.reject(Error()) : response.json()\r\n      )\r\n      .then((data) => {\r\n        const { display_name: displayName } = data;\r\n        if (displayName.trim() && displayName !== this.state.user.displayName) {\r\n          // Clear input and update user display name.\r\n          const input = cloneDeep(this.state.input);\r\n          input.displayName.value = '';\r\n          const user = {\r\n            ...this.state.user,\r\n            displayName: this.state.input.displayName.value,\r\n          };\r\n          this.setState({ input, user });\r\n          this.setMessage('Display name changed successfully.');\r\n          this.clearMessage();\r\n        }\r\n      })\r\n      .catch((error) => {\r\n        this.setMessage(\r\n          'There was a problem changing your display name. Please try again later.'\r\n        );\r\n        this.clearMessage(6000);\r\n      });\r\n\r\n  handleUsernameInputChange = (event) => {\r\n    const username = {\r\n      ...this.state.input.username,\r\n      value: event.target.value,\r\n      empty: false,\r\n    };\r\n    const input = { ...this.state.input, username };\r\n    this.setState({ input });\r\n  };\r\n\r\n  handlePasswordInputChange = (event) => {\r\n    const password = {\r\n      ...this.state.input.password,\r\n      value: event.target.value,\r\n      empty: false,\r\n    };\r\n    const input = { ...this.state.input, password };\r\n    this.setState({ input });\r\n  };\r\n\r\n  handleNewPasswordInputChange = (event) => {\r\n    const newPassword = {\r\n      ...this.state.input.newPassword,\r\n      value: event.target.value,\r\n      empty: false,\r\n    };\r\n    const input = { ...this.state.input, newPassword };\r\n    this.setState({ input });\r\n  };\r\n\r\n  handlePasswordChange = () => {\r\n    // Current password and new password empty.\r\n    if (!this.state.input.newPassword.value && !this.state.input.password.value)\r\n      this.setState({\r\n        input: {\r\n          ...this.state.input,\r\n          password: {\r\n            ...this.state.input.password,\r\n            empty: false,\r\n          },\r\n          newPassword: {\r\n            ...this.state.input.newPassword,\r\n            empty: false,\r\n          },\r\n        },\r\n        windowMessage: null,\r\n      });\r\n    // New password entered but current password empty.\r\n    else if (\r\n      this.state.input.newPassword.value &&\r\n      !this.state.input.password.value\r\n    )\r\n      this.setState({\r\n        input: {\r\n          ...this.state.input,\r\n          password: { ...this.state.input.password, empty: true },\r\n        },\r\n        windowMessage: 'Please enter current password.',\r\n      });\r\n    // Current password entered but new password empty.\r\n    else if (\r\n      this.state.input.password.value &&\r\n      !this.state.input.newPassword.value\r\n    )\r\n      this.setState({\r\n        input: {\r\n          ...this.state.input,\r\n          newPassword: { ...this.state.input.newPassword, empty: true },\r\n        },\r\n        windowMessage: 'Please enter new password.',\r\n      });\r\n    else if (\r\n      this.state.input.newPassword.value.length <\r\n        this.state.input.newPassword.minLength ||\r\n      this.state.input.newPassword.value.length >\r\n        this.state.input.newPassword.maxLength\r\n    )\r\n      this.setState({\r\n        input: {\r\n          ...this.state.input,\r\n          newPassword: { ...this.state.input.newPassword, empty: true },\r\n        },\r\n        windowMessage: `Password should be between ${this.state.input.newPassword.minLength} and ${this.state.input.newPassword.maxLength} characters.`,\r\n      });\r\n    else if (\r\n      this.state.input.password.value.length <\r\n        this.state.input.password.minLength ||\r\n      this.state.input.password.value.length >\r\n        this.state.input.password.maxLength\r\n    )\r\n      this.setState({\r\n        input: {\r\n          ...this.state.input,\r\n          password: {\r\n            ...this.state.input.password,\r\n            empty: true,\r\n          },\r\n        },\r\n        windowMessage: 'Current password invalid.',\r\n      });\r\n    else if (\r\n      this.state.input.password.value === this.state.input.newPassword.value\r\n    )\r\n      this.setState({\r\n        input: {\r\n          ...this.state.input,\r\n          password: {\r\n            ...this.state.input.password,\r\n            empty: true,\r\n          },\r\n          newPassword: {\r\n            ...this.state.input.newPassword,\r\n            empty: true,\r\n          },\r\n        },\r\n        windowMessage: 'New password must be different from current password.',\r\n      });\r\n    else this.changePassword();\r\n  };\r\n\r\n  changePassword = () =>\r\n    fetch('https://csbudget-api.herokuapp.com/password', {\r\n      method: 'put',\r\n      headers: { 'Content-Type': 'application/json' },\r\n      body: JSON.stringify({\r\n        id: this.state.user.id,\r\n        password: this.state.input.password.value,\r\n        new_password: this.state.input.newPassword.value,\r\n      }),\r\n    })\r\n      .then((response) =>\r\n        response.status === 401\r\n          ? Promise.reject(Error('Unauthorized'))\r\n          : response.status === 400\r\n          ? Promise.reject(Error())\r\n          : response\r\n      )\r\n      .then(() => {\r\n        const input = cloneDeep(this.state.input);\r\n        input.password = { ...initialState.input.password };\r\n        input.newPassword = { ...initialState.input.newPassword };\r\n        this.setState({ input, windowMessage: null });\r\n        this.setMessage('Password changed successfully.');\r\n        this.clearMessage(6000);\r\n      })\r\n      .catch((error) => {\r\n        if (error.message === 'Unauthorized') {\r\n          const password = {\r\n            ...this.state.input.password,\r\n            empty: true,\r\n          };\r\n          const input = { ...this.state.input, password };\r\n          this.setState({ input, windowMessage: 'Current password invalid.' });\r\n        } else {\r\n          this.setMessage(\r\n            'There was a problem changing your password. Please try again later.'\r\n          );\r\n          this.clearMessage(6000);\r\n        }\r\n      });\r\n\r\n  handleSignUp = () => {\r\n    if (\r\n      !this.state.input.displayName.value.trim() ||\r\n      !this.state.input.username.value.trim() ||\r\n      !this.state.input.newPassword.value\r\n    ) {\r\n      let input = { ...this.state.input };\r\n      if (!this.state.input.displayName.value.trim()) {\r\n        const displayName = { ...this.state.input.displayName, empty: true };\r\n        input.displayName = displayName;\r\n      } else {\r\n        const displayName = { ...this.state.input.displayName, empty: false };\r\n        input.displayName = displayName;\r\n      }\r\n      if (!this.state.input.username.value.trim()) {\r\n        const username = { ...this.state.input.username, empty: true };\r\n        input.username = username;\r\n      } else {\r\n        const username = { ...this.state.input.username, empty: false };\r\n        input.username = username;\r\n      }\r\n      if (!this.state.input.newPassword.value) {\r\n        const newPassword = { ...this.state.input.newPassword, empty: true };\r\n        input.newPassword = newPassword;\r\n      } else {\r\n        const newPassword = { ...this.state.input.newPassword, empty: false };\r\n        input.newPassword = newPassword;\r\n      }\r\n      this.setState({ input, windowMessage: 'Please fill out all fields.' });\r\n    } else if (\r\n      this.state.input.newPassword.value.length <\r\n        this.state.input.newPassword.minLength ||\r\n      this.state.input.newPassword.value.length >\r\n        this.state.input.newPassword.maxLength\r\n    ) {\r\n      const newPassword = {\r\n        ...this.state.input.newPassword,\r\n        empty: true,\r\n      };\r\n      const input = { ...this.state.input, newPassword };\r\n      this.setState({\r\n        input,\r\n        windowMessage: `Password should be between ${input.newPassword.minLength} and ${input.newPassword.maxLength} characters.`,\r\n      });\r\n    } else {\r\n      this.setState({ windowMessage: null, loading: true });\r\n      this.signUp();\r\n    }\r\n  };\r\n\r\n  handleSignIn = () => {\r\n    if (\r\n      !this.state.input.username.value.trim() &&\r\n      !this.state.input.password.value\r\n    ) {\r\n      const input = cloneDeep(this.state.input);\r\n      input.username.empty = true;\r\n      input.password.empty = true;\r\n      this.setState({\r\n        windowMessage: 'Username and password required.',\r\n        input,\r\n      });\r\n    } else if (!this.state.input.username.value.trim()) {\r\n      this.setState({ windowMessage: 'Username required.' });\r\n      const username = { ...this.state.input.username, empty: true };\r\n      const input = { ...this.state.input, username };\r\n      this.setState({ input });\r\n    } else if (!this.state.input.password.value) {\r\n      this.setState({ windowMessage: 'Password required.' });\r\n      const password = { ...this.state.input.password, empty: true };\r\n      const input = { ...this.state.input, password };\r\n      this.setState({ input });\r\n    } else if (\r\n      this.state.input.password.value.length <\r\n        this.state.input.password.minLength ||\r\n      this.state.input.password.value.length >\r\n        this.state.input.password.maxLength\r\n    )\r\n      this.setState({ windowMessage: 'Invalid username or password.' });\r\n    else {\r\n      this.setState({ windowMessage: null, loading: true });\r\n      this.signIn();\r\n    }\r\n  };\r\n\r\n  loadUser = (data) =>\r\n    this.setState({\r\n      user: {\r\n        id: data.id,\r\n        username: data.username,\r\n        displayName: data.display_name,\r\n        joinDate: new Date(data.join_date),\r\n        currentBudgetIndex: data.current_budget_index,\r\n        formatArgs: data.format_args,\r\n        budgets: data.budgets.map((budget) => this.getBudgetFromData(budget)),\r\n      },\r\n      route: data.budgets.length ? 'budget' : 'saved-budgets',\r\n      input: initialState.input,\r\n      windowMessage: null,\r\n      isLoggedIn: true,\r\n      isGuest: false,\r\n    });\r\n\r\n  signUp = () =>\r\n    fetch('https://csbudget-api.herokuapp.com/sign-up', {\r\n      method: 'post',\r\n      headers: { 'Content-Type': 'application/json' },\r\n      body: JSON.stringify({\r\n        display_name: this.state.input.displayName.value,\r\n        username: this.state.input.username.value,\r\n        password: this.state.input.newPassword.value,\r\n      }),\r\n    })\r\n      .then((response) =>\r\n        response.status === 409\r\n          ? Promise.reject(Error('Conflict'))\r\n          : response.status === 400\r\n          ? Promise.reject(Error())\r\n          : response.json()\r\n      )\r\n      .then((data) => {\r\n        localStorage.setItem('background', this.state.background.name);\r\n        this.loadUser(data);\r\n        this.setMessage(`Welcome, ${data.display_name}.`);\r\n        this.clearMessage(6000);\r\n      })\r\n      .catch((error) => {\r\n        if (error.message === 'Conflict') {\r\n          const username = { ...this.state.input.username, empty: true };\r\n          const input = { ...this.state.input, username };\r\n          this.setState({\r\n            input,\r\n            windowMessage:\r\n              'That username has already been taken. Please try another one.',\r\n          });\r\n        } else\r\n          this.setState({\r\n            windowMessage:\r\n              'There was a problem signing up. Please try again later.',\r\n          });\r\n      })\r\n      .finally(() => this.setState({ loading: false }));\r\n\r\n  signIn = () =>\r\n    fetch('https://csbudget-api.herokuapp.com/sign-in', {\r\n      method: 'post',\r\n      headers: { 'Content-Type': 'application/json' },\r\n      body: JSON.stringify({\r\n        username: this.state.input.username.value,\r\n        password: this.state.input.password.value,\r\n      }),\r\n    })\r\n      .then((response) =>\r\n        response.status === 400\r\n          ? Promise.reject(Error('Bad Request'))\r\n          : response.json()\r\n      )\r\n      .then((data) => {\r\n        localStorage.setItem('background', this.state.background.name);\r\n        this.loadUser(data);\r\n        this.setMessage(`Welcome back, ${data.display_name}.`);\r\n        this.clearMessage(6000);\r\n      })\r\n      .catch((error) => {\r\n        if (error.message === 'Bad Request')\r\n          this.setState({\r\n            windowMessage: 'Invalid username or password.',\r\n          });\r\n        else\r\n          this.setState({\r\n            windowMessage:\r\n              'There was a problem signing in. Please try again later.',\r\n          });\r\n      })\r\n      .finally(() => this.setState({ loading: false }));\r\n\r\n  /**\r\n   *\r\n   * @param {requestCallback} callback The function to be called upon\r\n   * key code press.\r\n   * @param {number} code JavaScript event code.\r\n   * Defaults to 'Enter'.\r\n   */\r\n  handleEnterKey = (callback) => (event) => {\r\n    if (event.target.value !== '' && event.code === 'Enter') callback();\r\n  };\r\n\r\n  handleToggledExpandNav = () => {\r\n    this.setState({\r\n      toggledExpandNav: this.state.toggledExpandNav ? false : true,\r\n    });\r\n  };\r\n\r\n  handleRouteChange = (route) => {\r\n    /*\r\n    Automatically create a budget if user routes to 'budget' with 0 budgets.\r\n    Only route to 'budget' if budget successfully loads or is created\r\n    (handleCreateBudget returns a fetch request if user is not a guest or a\r\n    resolved promise otherwise to make the function thenable).\r\n    */\r\n    if (route === 'budget' && !this.state.user.budgets.length)\r\n      this.handleCreateBudget().then(() =>\r\n        this.state.user.budgets.length ? this.setState({ route }) : null\r\n      );\r\n    // Handle guest sign in.\r\n    else if (\r\n      route !== this.state.route &&\r\n      route !== 'sign-up' &&\r\n      route !== 'sign-in' &&\r\n      !this.state.isLoggedIn &&\r\n      this.state.isGuest\r\n    ) {\r\n      this.setState({\r\n        route,\r\n        input: initialState.input,\r\n        windowMessage: null,\r\n        isLoggedIn: true,\r\n        user: {\r\n          ...this.state.user,\r\n          joinDate: new Date(),\r\n        },\r\n      });\r\n      setTimeout(\r\n        () => this.setMessage(`Welcome, ${this.state.user.displayName}.`),\r\n        0\r\n      );\r\n      this.clearMessage(6000);\r\n    }\r\n    // Handle guest sign out.\r\n    else if (\r\n      route !== this.state.route &&\r\n      route === 'sign-up' &&\r\n      this.state.isLoggedIn &&\r\n      this.state.isGuest\r\n    )\r\n      this.setState({\r\n        ...initialState,\r\n        background: this.state.background,\r\n      });\r\n    // Handle user sign out.\r\n    else if (\r\n      route !== this.state.route &&\r\n      route === 'sign-in' &&\r\n      this.state.isLoggedIn &&\r\n      !this.state.isGuest\r\n    )\r\n      this.setState({\r\n        ...initialState,\r\n        route: 'sign-in',\r\n        background: this.state.background,\r\n      });\r\n    /* Reset input and message code when routing between\r\n    SignIn and SignUp components. */ else if (\r\n      (route === 'sign-in' || route === 'sign-up') &&\r\n      (this.state.route === 'sign-in' || this.state.route === 'sign-up')\r\n    )\r\n      this.setState({\r\n        input: initialState.input,\r\n        windowMessage: null,\r\n        route,\r\n      });\r\n    else if (route !== this.state.route) this.setState({ route });\r\n  };\r\n\r\n  render() {\r\n    const {\r\n      route,\r\n      input,\r\n      isEditing,\r\n      background,\r\n      message,\r\n      showMessage,\r\n      tooltip,\r\n      showTooltipRight,\r\n      showTooltipLeft,\r\n      windowMessage,\r\n      mousePosition,\r\n      isLoggedIn,\r\n      isGuest,\r\n      clickedDeleteBudget,\r\n      toggledExpandNav,\r\n      maxBudgets,\r\n      loading,\r\n      user,\r\n    } = this.state;\r\n\r\n    /* Intl.NumberFormat object is a constructor that enables language sensitive\r\n    number formatting. Takes parameters ([locales[, options]]). */\r\n    const currencyFormatter = new Intl.NumberFormat(user.formatArgs.locale, {\r\n      style: 'currency',\r\n      currency: user.formatArgs.currency,\r\n    });\r\n\r\n    const formattedBudget =\r\n      user.budgets.length === 0\r\n        ? formatBudget(this.getNewBudget(), currencyFormatter)\r\n        : formatBudget(\r\n            user.budgets[user.currentBudgetIndex],\r\n            currencyFormatter\r\n          );\r\n    const formattedEntries = formatEntries(\r\n      user.budgets[user.currentBudgetIndex]?.entries,\r\n      currencyFormatter\r\n    );\r\n\r\n    const { budgetName, addEntry, category, ...landingInput } = input;\r\n\r\n    return (\r\n      <>\r\n        <CustomScrollbars classlist=\"bg--light hover-opacity br-pill o-90\">\r\n          <BackgroundWrapper background={background}>\r\n            <div className=\"App clr-light ff-primary fs-body\">\r\n              <Nav\r\n                route={route}\r\n                handleRouteChange={this.handleRouteChange}\r\n                isLoggedIn={isLoggedIn}\r\n                isGuest={isGuest}\r\n                handleToggledExpandNav={this.handleToggledExpandNav}\r\n                toggledExpandNav={toggledExpandNav}\r\n              />\r\n              {route === 'sign-in' || route === 'sign-up' ? (\r\n                <Landing\r\n                  handleRouteChange={this.handleRouteChange}\r\n                  route={route}\r\n                  useDarkLanding={background.useDarkLanding}\r\n                  handleDisplayNameInputChange={\r\n                    this.handleDisplayNameInputChange\r\n                  }\r\n                  handleUsernameInputChange={this.handleUsernameInputChange}\r\n                  handlePasswordInputChange={this.handlePasswordInputChange}\r\n                  handleNewPasswordInputChange={\r\n                    this.handleNewPasswordInputChange\r\n                  }\r\n                  handleEnterKey={this.handleEnterKey}\r\n                  handleSignUp={this.handleSignUp}\r\n                  handleSignIn={this.handleSignIn}\r\n                  windowMessage={windowMessage}\r\n                  input={landingInput}\r\n                  getPasswordInputStyle={getPasswordInputStyle}\r\n                  loading={loading}\r\n                />\r\n              ) : route === 'budget' ? (\r\n                <Budget\r\n                  budget={user.budgets[user.currentBudgetIndex]}\r\n                  formattedBudget={formattedBudget}\r\n                  entries={user.budgets[user.currentBudgetIndex].entries}\r\n                  formattedEntries={formattedEntries}\r\n                  currentBudgetIndex={user.currentBudgetIndex}\r\n                  handleSaveBudget={this.handleSaveBudget}\r\n                  handleCreateBudgetCopy={this.handleCreateBudgetCopy}\r\n                  editBudgetName={this.editBudgetName}\r\n                  editProjectedMonthlyIncome={this.editProjectedMonthlyIncome}\r\n                  editActualMonthlyIncome={this.editActualMonthlyIncome}\r\n                  isEditingBudgetName={isEditing.budgetName}\r\n                  isEditingProjectedMonthlyIncome={\r\n                    isEditing.projectedMonthlyIncome\r\n                  }\r\n                  isEditingActualMonthlyIncome={isEditing.actualMonthlyIncome}\r\n                  handleBudgetNameChange={this.handleBudgetNameChange}\r\n                  handleProjectedMonthlyIncomeChange={\r\n                    this.handleProjectedMonthlyIncomeChange\r\n                  }\r\n                  handleActualMonthlyIncomeChange={\r\n                    this.handleActualMonthlyIncomeChange\r\n                  }\r\n                  handleAddEntryInputChange={this.handleAddEntryInputChange}\r\n                  handleEnterKey={this.handleEnterKey}\r\n                  handleAddEntry={this.handleAddEntry}\r\n                  handleDeleteEntry={this.handleDeleteEntry}\r\n                  editCategory={this.editCategory}\r\n                  editProjectedCost={this.editProjectedCost}\r\n                  editActualCost={this.editActualCost}\r\n                  isEditingCategory={isEditing.category}\r\n                  isEditingProjectedCost={isEditing.projectedCost}\r\n                  isEditingActualCost={isEditing.actualCost}\r\n                  isEditingEntryId={isEditing.entryId}\r\n                  handleCategoryChange={this.handleCategoryChange}\r\n                  handleProjectedCostChange={this.handleProjectedCostChange}\r\n                  handleActualCostChange={this.handleActualCostChange}\r\n                  handleClickedDeleteBudget={this.handleClickedDeleteBudget}\r\n                  handleDeleteBudget={this.handleDeleteBudget}\r\n                  clickedDeleteBudget={clickedDeleteBudget}\r\n                  input={input}\r\n                  setTooltip={this.setTooltip}\r\n                  clearTooltip={this.clearTooltip}\r\n                  toggledExpandNav={toggledExpandNav}\r\n                />\r\n              ) : route === 'saved-budgets' ? (\r\n                <SavedBudgets\r\n                  user={user}\r\n                  handleViewBudget={this.handleViewBudget}\r\n                  handleCreateBudget={this.handleCreateBudget}\r\n                  handleSaveBudgets={this.handleSaveBudgets}\r\n                  currentBudgetIndex={user.currentBudgetIndex}\r\n                  handleEnterKey={this.handleEnterKey}\r\n                  toggledExpandNav={toggledExpandNav}\r\n                />\r\n              ) : route === 'profile' ? (\r\n                <Profile\r\n                  user={user}\r\n                  input={input}\r\n                  windowMessage={windowMessage}\r\n                  isGuest={isGuest}\r\n                  toggledExpandNav={toggledExpandNav}\r\n                  allFormatArgs={allFormatArgs}\r\n                  handleCurrencyChange={this.handleCurrencyChange}\r\n                  handleDisplayNameInputChange={\r\n                    this.handleDisplayNameInputChange\r\n                  }\r\n                  handleDisplayNameChange={this.handleDisplayNameChange}\r\n                  handlePasswordInputChange={this.handlePasswordInputChange}\r\n                  handleNewPasswordInputChange={\r\n                    this.handleNewPasswordInputChange\r\n                  }\r\n                  handlePasswordChange={this.handlePasswordChange}\r\n                  handleEnterKey={this.handleEnterKey}\r\n                  handleBackgroundChange={this.handleBackgroundChange}\r\n                  backgrounds={backgrounds}\r\n                  currentBackground={background}\r\n                  maxBudgets={maxBudgets}\r\n                  savedBudgets={user.budgets.filter(\r\n                    (budget) => budget.lastSaved\r\n                  )}\r\n                  getPasswordInputStyle={getPasswordInputStyle}\r\n                />\r\n              ) : route === 'about' ? (\r\n                <About toggledExpandNav={toggledExpandNav} />\r\n              ) : null}\r\n              {route === 'sign-up' || route === 'sign-in' ? null : (\r\n                <CSSTransition\r\n                  in={showMessage}\r\n                  classNames=\"message\"\r\n                  timeout={500}\r\n                  unmountOnExit\r\n                  onExited={() => this.setState({ message: null })}\r\n                >\r\n                  <Message message={message} />\r\n                </CSSTransition>\r\n              )}\r\n\r\n              <CSSTransition\r\n                in={showTooltipRight || showTooltipLeft}\r\n                classNames=\"tooltip\"\r\n                timeout={1000}\r\n                unmountOnExit\r\n                onExited={() => this.setState({ tooltip: null })}\r\n              >\r\n                <Tooltip\r\n                  tooltip={tooltip}\r\n                  showTooltipLeft={showTooltipLeft}\r\n                  mousePosition={mousePosition}\r\n                />\r\n              </CSSTransition>\r\n            </div>\r\n          </BackgroundWrapper>\r\n        </CustomScrollbars>\r\n        <PreloadedBackgrounds backgrounds={backgrounds} />\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\n\r\nimport 'tachyons';\r\n\r\nimport App from './containers/App/App';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n"],"sourceRoot":""}