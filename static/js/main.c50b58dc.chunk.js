(this.webpackJsonpbudget=this.webpackJsonpbudget||[]).push([[0],{157:function(e,t,n){},158:function(e,t,n){"use strict";n.r(t);var a=n(2),s=n.n(a),r=n(11),c=n.n(r),i=(n(60),n(6)),d=n(1),l=n(7),o=n(8),u=n(10),g=n(9),h=n(20),b=n(53),p=n(0),m=["style"],j=["style"],f=function(e){Object(u.a)(n,e);var t=Object(g.a)(n);function n(e){var a;Object(l.a)(this,n);for(var s=arguments.length,r=new Array(s>1?s-1:0),c=1;c<s;c++)r[c-1]=arguments[c];(a=t.call.apply(t,[this,e].concat(r))).renderThumb=function(e){var t=e.style,n=Object(i.a)(e,m);return Object(p.jsx)("div",Object(d.a)({className:"".concat(a.state.classlist),style:Object(d.a)({},t)},n))},a.renderThumbHorizontal=function(e){e.style;var t=Object(i.a)(e,j);return Object(p.jsx)("div",Object(d.a)({className:"dn"},t))};var o=e.classlist,u=e.autoHide;return a.state={classlist:o,autoHide:u},a.renderThumb=a.renderThumb.bind(Object(h.a)(a)),a}return Object(o.a)(n,[{key:"render",value:function(){return Object(p.jsx)(b.Scrollbars,Object(d.a)({renderThumbHorizontal:this.renderThumbHorizontal,renderThumbVertical:this.renderThumb,autoHeight:!0,autoHeightMin:0,autoHeightMax:"100vh",autoHide:this.state.autoHide,autoHideTimeout:2e3,autoHideDuration:500},this.props))}}]),n}(a.Component),y=function(e){var t=e.background,n=e.children,a=t.path,s=t.useDarkLanding;return Object(p.jsx)("div",{className:"background\n      ".concat(s?"bg--light":"bg--dark","\n      "),style:{backgroundImage:"url(".concat(a,")")},children:Object(p.jsx)("div",{style:{backgroundImage:"linear-gradient(rgba(0, 0, 0, 0) 25%, rgba(0, 0, 0, 0.75))"},children:n})})},w=(n(80),function(e){var t=e.route,n=e.handleRouteChange,a=e.loggedIn,s=e.isGuest,r=e.handleToggledExpandNav,c=e.toggledExpandNav;return a?Object(p.jsxs)("nav",{className:"flex justify-between pv2 ph5 bg--window-box\n    ".concat(c?"expand":"","\n    "),children:[Object(p.jsxs)("div",{className:"flex items-center",children:[Object(p.jsx)("button",{onClick:function(){return n("budget")},className:"clr-light fs-subtitle ff-logo bg-transparent bn ttc selection-transparent pointer relative mr4",children:"CSBudget"}),Object(p.jsxs)("button",{className:"toggle-expand dn absolute pa0 bg-transparent bn hover-opacity selection-transparent",onClick:r,children:[Object(p.jsx)("span",{className:"bar w-100 bg--light br4"}),Object(p.jsx)("span",{className:"bar w-100 bg--light br4"}),Object(p.jsx)("span",{className:"bar w-100 bg--light br4"})]}),Object(p.jsx)("button",{onClick:function(){return n("budget")},className:"clr-light fs-subheading fw3 bg-transparent bn ttc pointer mr4 hover-opacity selection-transparent \n          ".concat("budget"===t?"selected clr-accent-light":"","\n          "),children:"view budget"}),Object(p.jsx)("button",{onClick:function(){return n("saved-budgets")},className:"clr-light fs-subheading fw3 bg-transparent bn ttc pointer mr4 hover-opacity selection-transparent\n          ".concat("saved-budgets"===t?"selected clr-accent-light":"","\n          "),children:"saved budgets"}),Object(p.jsx)("button",{onClick:function(){return n("profile")},className:"clr-light fs-subheading fw3 bg-transparent bn ttc pointer hover-opacity selection-transparent\n          ".concat("profile"===t?"selected clr-accent-light":"","\n          "),children:"profile"})]}),Object(p.jsxs)("div",{className:"flex items-center",children:[Object(p.jsx)("button",{onClick:function(){return n("about")},className:"clr-light fs-subheading fw3 bg-transparent bn ttc pointer hover-opacity selection-transparent\n          ".concat("about"===t?"selected clr-accent-light":"","\n          "),children:"about"}),s?Object(p.jsx)("button",{onClick:function(){return n("signup")},className:"clr-light fs-subheading fw3 bg-transparent bn ttc pointer ml4 hover-opacity selection-transparent",children:"sign up"}):Object(p.jsx)("button",{onClick:function(){return n("signin")},className:"clr-light fs-subheading fw3 bg-transparent bn ttc pointer ml4 hover-opacity selection-transparent",children:"sign out"})]})]}):null}),v=function(e){var t=e.handleRouteChange,n=e.children;return Object(p.jsx)("div",{className:"flex justify-center",children:Object(p.jsxs)("div",{className:"bg--login-box br3 tc pt5 pb4 ph4 ba border-clr-dark",style:{maxWidth:"30rem"},children:[Object(p.jsx)("h1",{className:"clr-light ff-logo fs-heading user-select-none tc mb4",children:"CSBudget"}),n,Object(p.jsx)("button",{onClick:function(){return t("budget")},className:"clr-light fs-body fw3 bg-transparent bn pointer underline-hover mt6",children:"Continue as guest."})]})})},x=function(e){var t=e.handleRouteChange,n=e.handleUsernameInputChange,a=e.handlePasswordInputChange,s=e.handleKeyDown,r=e.handleSignIn,c=e.windowMessageCode,i=e.input;return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsxs)("div",{className:"relative mb3",children:[Object(p.jsx)("input",{className:"input input-indicator br3 pt4 ph3 pb2 w-100\n          ".concat(i.username.empty?"empty":"","\n          "),onChange:n,onKeyDown:s(r),type:"text",name:"username",maxLength:i.username.maxLength,required:!0}),Object(p.jsx)("span",{className:"floating-label",children:"Username"})]}),Object(p.jsxs)("div",{className:"relative mb4",children:[Object(p.jsx)("input",{className:"input input-indicator br3 pt4 ph3 pb2 w-100\n          ".concat(i.password.empty?"empty":"","\n          "),onChange:a,onKeyDown:s(r),type:"password",name:"password",maxLength:i.password.maxLength,required:!0}),Object(p.jsx)("span",{className:"floating-label",children:"Password"})]}),"fields-empty"===c?Object(p.jsx)("h6",{className:"clr-red fs-body mv4",children:"Username and password required."}):"username-empty"===c?Object(p.jsx)("h6",{className:"clr-red fs-body mv4",children:"Username required."}):"password-empty"===c?Object(p.jsx)("h6",{className:"clr-red fs-body mv4",children:"Password required."}):"credentials-invalid"===c?Object(p.jsx)("h6",{className:"clr-red fs-body mv4",children:"Invalid username or password."}):null,Object(p.jsx)("button",{onClick:r,className:"bg--semi-transparent hover-opacity-75 selection-transparent clr-light fs-body fw7 bg--dark bn br3 pa3 mb3 w-100",children:"Sign In"}),Object(p.jsxs)("button",{onClick:function(){return t("signup")},className:"clr-light fs-body fw3 bg-transparent bn pointer underline-hover",children:["Don't have an account? ",Object(p.jsx)("span",{className:"fw6",children:"Sign up"}),"."]})]})},O=function(e){var t=e.handleRouteChange,n=e.handleDisplayNameInputChange,a=e.handleUsernameInputChange,s=e.handleNewPasswordInputChange,r=e.handleKeyDown,c=e.handleSignUp,i=e.windowMessageCode,d=e.input,l=e.getPasswordInputStyle;return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsxs)("div",{className:"relative mb3",children:[Object(p.jsx)("input",{className:"input input-indicator br3 pt4 ph3 pb2 w-100\n          ".concat(d.displayName.empty?"empty":"","\n          "),onChange:n,onKeyDown:r(c),type:"text",name:"new-display-name",maxLength:d.displayName.maxLength,required:!0}),Object(p.jsx)("span",{className:"floating-label",children:"Display name"})]}),Object(p.jsxs)("div",{className:"relative mb3",children:[Object(p.jsx)("input",{className:"input input-indicator br3 pt4 ph3 pb2 w-100\n          ".concat(d.username.empty?"empty":"","\n          "),onChange:a,onKeyDown:r(c),type:"text",name:"new-username",maxLength:d.username.maxLength,required:!0}),Object(p.jsx)("span",{className:"floating-label",children:"Username"})]}),Object(p.jsxs)("div",{className:"relative mb4",children:[Object(p.jsx)("input",{className:"input input-indicator br3 pt4 ph3 pb2 w-100\n          ".concat(d.newPassword.empty?"empty":"","\n          ").concat(l(d.newPassword),"\n          "),onChange:s,onKeyDown:r(c),type:"password",name:"new-password",maxLength:d.newPassword.maxLength,required:!0}),Object(p.jsx)("span",{className:"floating-label",children:"Password"})]}),"fields-empty"===i?Object(p.jsx)("h6",{className:"clr-red fs-body mv4",children:"Please fill out all fields."}):"new-password-length-invalid"===i?Object(p.jsxs)("h6",{className:"clr-red fs-body mv4",children:["Password should be between $",d.newPassword.minLength," and $",d.newPassword.maxLength," characters."]}):null,Object(p.jsx)("button",{onClick:c,className:"bg--semi-transparent hover-opacity-75 selection-transparent clr-light fs-body fw7 bg--dark bn br3 pv3 ph3 mb3 w-100",children:"Sign Up"}),Object(p.jsxs)("button",{onClick:function(){return t("signin")},className:"clr-light fs-body fw3 bg-transparent bn pointer underline-hover",children:["Have an account? ",Object(p.jsx)("span",{className:"fw6",children:"Sign in"}),"."]})]})},C=(n(81),["displayName","newPassword"]),N=function(e){var t=e.handleRouteChange,n=e.route,a=e.useDarkLanding,s=e.handleDisplayNameInputChange,r=e.handleUsernameInputChange,c=e.handlePasswordInputChange,d=e.handleNewPasswordInputChange,l=e.handleKeyDown,o=e.handleSignUp,u=e.handleSignIn,g=e.windowMessageCode,h=e.input,b=e.getPasswordInputStyle,m=(h.displayName,h.newPassword,Object(i.a)(h,C));return Object(p.jsxs)("div",{className:"landing flex flex-column justify-center ph4 pv6 ".concat(a?"clr-dark":"clr-light"),children:[Object(p.jsxs)("section",{className:"landing-text pt4",children:[Object(p.jsx)("h1",{className:"fs-heading fw6 tc mb2",children:"Budgeting doesn't have to be hard."}),Object(p.jsx)("h2",{className:"fs-subheading fw3 tc mb5",children:"Sign up or sign in to save your budgets and access them at any time."})]}),Object(p.jsx)(v,{handleRouteChange:t,children:"signup"===n?Object(p.jsx)(O,{handleRouteChange:t,handleDisplayNameInputChange:s,handleUsernameInputChange:r,handleNewPasswordInputChange:d,handleKeyDown:l,handleSignUp:o,windowMessageCode:g,input:h,getPasswordInputStyle:b}):"signin"===n?Object(p.jsx)(x,{handleRouteChange:t,handleUsernameInputChange:r,handlePasswordInputChange:c,handleKeyDown:l,handleSignIn:u,windowMessageCode:g,input:m}):null})]})},I=n(54),B=function(e){Object(u.a)(n,e);var t=Object(g.a)(n);function n(){var e;return Object(l.a)(this,n),(e=t.call(this)).state={hasError:!1},e}return Object(o.a)(n,[{key:"componentDidCatch",value:function(e,t){this.setState({hasError:!0})}},{key:"render",value:function(){return this.state.hasError?Object(p.jsx)("div",{className:"pv5 ph4 tc",children:Object(p.jsx)("span",{className:"clr-light fs-body",children:"Unfortunately, we've encountered an error."})}):this.props.children}}]),n}(s.a.Component),M=function(){return{width:window.innerWidth,height:window.innerHeight}},S=function(e){var t=e.classlist,n=e.toggledExpandNav,s=e.children,r=function(){var e=Object(a.useState)(M()),t=Object(I.a)(e,2),n=t[0],s=t[1];return Object(a.useEffect)((function(){var e=function(){return s(M())};return window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}}),[]),n}(),c=r.width,i=r.height;return Object(p.jsx)("div",{className:"bg--window-box br3 ".concat(t||""),children:Object(p.jsx)(f,{classlist:"bg--accent-light hover-opacity br-pill o-90",autoHide:!0,children:Object(p.jsx)(B,{children:Object(p.jsx)("div",{style:{maxHeight:i-(n&&c<=900?355:100)},children:s})})})})},E=(n(82),function(e){var t,n=e.budget,a=e.formattedBudget,s=e.editProjectedMonthlyIncome,r=e.editActualMonthlyIncome,c=e.isEditingProjectedMonthlyIncome,i=e.isEditingActualMonthlyIncome,d=e.handleProjectedMonthlyIncomeChange,l=e.handleActualMonthlyIncomeChange,o=e.handleKeyDown,u=e.setTooltip,g=e.clearTooltip;return Object(p.jsxs)("div",{className:"Summary pv5 ph4",children:[Object(p.jsxs)("div",{className:"flex flex-column items-center",children:[Object(p.jsxs)("h3",{className:"clr-light-accent fs-subheading fw3 mb0 flex items-center",children:["Projected Monthly Income",Object(p.jsx)("span",{className:"material-icons user-select-none pointer clr-accent-light hover-opacity ml2\n              ".concat(c?"visibility-hidden":"","\n              "),onClick:s,tabIndex:"0",onKeyDown:o(s),onMouseMove:function(e){return u("edit-projected-monthly-income",e)},onMouseLeave:g,children:"edit"})]}),Object(p.jsx)("div",{className:"mb4 w-100",children:c?Object(p.jsx)("input",{className:"clr-light placeholder-light-accent bg-transparent fs-subtitle fw3 bn w-100 pv0 ph1 tc",onFocus:function(e){return e.target.value=n.projectedMonthlyIncome?n.projectedMonthlyIncome:""},onBlur:d,type:"number",placeholder:"0",step:500,autoFocus:!0}):Object(p.jsx)("h2",{className:"clr-light fs-subtitle fw3 bn w-100 pointer lh-copy mb0 tc",onClick:s,children:a.projectedMonthlyIncome})}),Object(p.jsxs)("h3",{className:"clr-light-accent fs-subheading fw3 mb0 flex items-center",children:["Actual Monthly Income",Object(p.jsx)("span",{className:"material-icons user-select-none pointer clr-accent-light hover-opacity ml2\n              ".concat(i?"visibility-hidden":"","\n              "),onClick:r,tabIndex:"0",onKeyDown:o(r),onMouseMove:function(e){return u("edit-actual-monthly-income",e)},onMouseLeave:g,children:"edit"})]}),Object(p.jsx)("div",{className:"mb4 w-100",children:i?Object(p.jsx)("input",{className:"clr-light placeholder-light-accent bg-transparent fs-subtitle fw3 bn w-100 pv0 ph1 tc",onFocus:function(e){return e.target.value=n.actualMonthlyIncome?n.actualMonthlyIncome:""},onBlur:l,type:"number",placeholder:"0",step:500,autoFocus:!0}):Object(p.jsx)("h2",{className:"clr-light fs-subtitle fw3 bn w-100 pointer lh-copy mb0 tc",onClick:r,children:a.actualMonthlyIncome})})]}),Object(p.jsxs)("div",{className:"flex tr",children:[Object(p.jsxs)("div",{className:"overflow-x-auto ph1",style:{width:"22.2rem"},children:[Object(p.jsx)("h3",{className:"clr-light-accent fs-subheading fw3 mb0",children:"Total Projected Cost"}),Object(p.jsx)("h2",{className:"clr-light fs-subtitle ff-primary fw3 mb4 lh-copy",children:a.projectedCost}),Object(p.jsx)("h3",{className:"clr-light-accent fs-subheading fw3 mb0",children:"Total Actual Cost"}),Object(p.jsx)("h2",{className:"clr-light fs-subtitle ff-primary fw3 mb4 lh-copy",children:a.actualCost}),Object(p.jsx)("h3",{className:"clr-light-accent fs-subheading fw3 mb0",children:"Total Difference"}),Object(p.jsx)("h2",{className:"clr-light fs-subtitle ff-primary fw3 mb0 lh-copy",children:a.differenceCost})]}),Object(p.jsx)("div",{className:"bg--light-accent br-pill mh4",style:{width:"2px"}}),Object(p.jsxs)("div",{className:"overflow-x-auto ph1",style:{width:"22.2rem"},children:[Object(p.jsx)("h3",{className:"clr-light-accent fs-subheading fw3 mb0",children:"Projected Balance"}),Object(p.jsx)("h2",{className:"clr-light fs-subtitle ff-primary fw3 mb4 lh-copy",children:a.projectedBalance}),Object(p.jsx)("h3",{className:"clr-light-accent fs-subheading fw3 mb0",children:"Actual Balance"}),Object(p.jsx)("h2",{className:"clr-light fs-subtitle ff-primary fw3 mb4 lh-copy",children:a.actualBalance}),Object(p.jsx)("h3",{className:"clr-light-accent fs-subheading fw3 mb0",children:"Difference"}),Object(p.jsx)("h2",{className:"clr-light fs-subtitle ff-primary fw3 mb0 lh-copy\n            ".concat((t=n.getDifferenceBalance(),t<0?"clr-red fw3":"")),children:a.differenceBalance})]})]})]})}),k=(n(83),function(e){var t,n=e.budget,a=e.entries,s=e.formattedEntries,r=e.currentBudgetIndex,c=e.editBudgetName,i=e.isEditingBudgetName,d=e.handleBudgetNameChange,l=e.handleAddEntryInputChange,o=e.handleKeyDown,u=e.handleAddEntry,g=e.handleDeleteEntry,h=e.editCategory,b=e.editProjectedCost,m=e.editActualCost,j=e.isEditingCategory,f=e.isEditingProjectedCost,y=e.isEditingActualCost,w=e.isEditingEntryId,v=e.handleCategoryChange,x=e.handleProjectedCostChange,O=e.handleActualCostChange,C=e.handleSaveBudget,N=e.handleCreateBudgetCopy,I=e.handleClickedDeleteBudget,B=e.handleDeleteBudget,M=e.clickedDeleteBudget,S=e.input,E=e.setTooltip,k=e.clearTooltip;return Object(p.jsxs)("div",{className:"Entries pv5 ph4",children:[Object(p.jsx)("div",{className:"relative mb5",children:i?Object(p.jsx)("input",{className:"clr-light bg-transparent fs-heading fw3 bn w-100 tc pv0 ph1",onFocus:function(e){return e.target.value=n.name},onBlur:d,type:"text",maxLength:S.budgetName.maxLength,placeholder:"Budget name",autoFocus:!0}):Object(p.jsxs)("div",{style:{padding:"0 12rem"},children:[Object(p.jsx)("span",{className:"material-icons absolute user-select-none pointer clr-accent-light hover-opacity mr4",onClick:C,tabIndex:"0",onKeyDown:o(C),onMouseMove:function(e){return E("save-budget",e)},onMouseLeave:k,style:{top:"50%",left:"0",transform:"translateY(-50%)",fontSize:"36px"},children:"save"}),Object(p.jsx)("span",{className:"material-icons absolute user-select-none pointer clr-accent-light hover-opacity mr3",onClick:function(){return N(r)},tabIndex:"0",onKeyDown:o((function(){return N(r)})),onMouseMove:function(e){return E("copy-budget",e)},onMouseLeave:k,style:{top:"50%",left:"6rem",transform:"translateY(-50%)",fontSize:"36px"},children:"copy_all"}),Object(p.jsx)("h1",{className:"clr-light fs-heading fw3 bn w-100 tc pointer text-break lh-copy",onClick:c,children:n.name}),Object(p.jsx)("span",{className:"material-icons absolute user-select-none pointer clr-accent-light hover-opacity",onClick:c,tabIndex:"0",onKeyDown:o(c),onMouseMove:function(e){return E("edit-budget-name",e)},onMouseLeave:k,style:{top:"50%",right:"0",transform:"translateY(-50%)",fontSize:"36px"},children:"edit"})]})}),Object(p.jsxs)("div",{className:"flex mb4",children:[Object(p.jsxs)("div",{className:"relative flex-grow-1 mr3",children:[Object(p.jsx)("input",{onChange:l,onKeyDown:o(u),className:"input input-indicator br3 pt4 ph3 pb2 w-100",type:"text",maxLength:S.addEntry.maxLength,value:S.addEntry.value,required:!0}),Object(p.jsx)("span",{className:"floating-label",children:"Category of entry"})]}),Object(p.jsx)("button",{onClick:u,className:"clr-light fs-body ff-mono fw3 ttc selection-transparent hover-opacity br3 bn bg--accent-dark pa3",style:{minWidth:"max-content"},children:"add entry"})]}),Object(p.jsxs)("h2",{className:"clr-light fs-subtitle fw3 mb3",children:["Entries (",n.entries.length,")"]}),Object(p.jsxs)("div",{className:"bg--light text-break br3",children:[Object(p.jsxs)("div",{className:"grid-entry bb border-clr-light-accent",children:[Object(p.jsx)("span",{className:"ph2",style:{width:"24px",boxSizing:"content-box",visibility:"hidden"}}),Object(p.jsx)("span",{className:"clr-dark fs-subheading fw4 tc pv3 ph1",children:"Category"}),Object(p.jsx)("span",{className:"clr-dark fs-subheading fw4 tr pv3 ph1",children:"Projected Cost"}),Object(p.jsx)("span",{className:"clr-dark fs-subheading fw4 tr pv3 ph1",children:"Actual Cost"}),Object(p.jsx)("span",{className:"clr-dark fs-subheading fw4 tr pv3 pr2 pl1",children:"Difference"})]}),Object(p.jsx)("div",{className:"entries",children:s.map((function(e,t){return Object(p.jsxs)("div",{className:"grid-entry items-center",children:[Object(p.jsx)("span",{className:"material-icons clr-dark-accent user-select-none pointer hover-opacity pv2 ph2 tc",onClick:function(){return g(e.id)},tabIndex:"0",onKeyDown:o((function(){return g(e.id)})),onMouseMove:function(t){return E("custom",t,'Delete "'.concat(e.category,'"'))},onMouseOver:function(t){return E("custom",t,'Delete "'.concat(e.category,'"'))},onMouseLeave:k,onMouseUp:k,children:"delete"}),j&&w===e.id?Object(p.jsx)("input",{className:"clr-dark placeholder-dark-accent bg-transparent fs-body bn w-100 h-100 tc pv2 ph1",onFocus:function(t){return t.target.value=e.category},onBlur:function(t){return v(e.id,t)},type:"text",maxLength:S.category.maxLength,placeholder:"Category",autoFocus:!0}):Object(p.jsx)("span",{className:"clr-dark fs-body pointer pv2 ph1 tc",onClick:function(){return h(e.id)},tabIndex:"0",onKeyDown:o((function(){return h(e.id)})),children:e.category}),f&&w===e.id?Object(p.jsx)("input",{className:"clr-dark placeholder-dark-accent bg-transparent fs-body bn w-100 h-100 tc pv2 ph1",onFocus:function(e){return e.target.value=a[t].projectedCost?a[t].projectedCost:""},onBlur:function(t){return x(e.id,t)},type:"number",placeholder:"0",step:50,autoFocus:!0}):Object(p.jsx)("span",{className:"clr-dark fs-body pointer pv2 ph1 h-100 flex justify-end items-center",onClick:function(){return b(e.id)},tabIndex:"0",onKeyDown:o((function(){return b(e.id)})),children:e.projectedCost}),y&&w===e.id?Object(p.jsx)("input",{className:"clr-dark placeholder-dark-accent bg-transparent fs-body bn w-100 h-100 tc pv2 ph1",onFocus:function(e){return e.target.value=a[t].actualCost?a[t].actualCost:""},onBlur:function(t){return O(e.id,t)},type:"number",placeholder:"0",step:50,autoFocus:!0}):Object(p.jsx)("span",{className:"clr-dark fs-body pointer pv2 ph1 h-100 flex justify-end items-center",onClick:function(){return m(e.id)},tabIndex:"0",onKeyDown:o((function(){return m(e.id)})),children:e.actualCost}),Object(p.jsx)("span",{className:"clr-dark fw6 fs-body tr pv2 pr2 pl1",children:e.difference})]},e.id)}))})]}),Object(p.jsxs)("div",{className:"mt4 items-end",style:{display:"grid",gridTemplateColumns:"1fr auto 1fr",justifyItems:"start"},children:[Object(p.jsx)("time",{className:"clr-light-accent fs-body ff-mono fw3 ttc tc",style:{gridColumnStart:"2"},children:(t=n.lastSaved,t?new Date-t>=864e5?"last saved ".concat(t.toLocaleString([],{year:"numeric",month:"numeric",day:"numeric",hour:"2-digit",minute:"2-digit"})):"last saved ".concat(t.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})):"unsaved")}),M?Object(p.jsx)("button",{onClick:B,onBlur:function(){return I(!1)},className:"clr-light fs-body ff-mono fw3 ttc selection-transparent hover-opacity br3 bn bg--dark-red pa3 ml-auto",style:{gridColumnStart:"3"},children:"confirm delete"}):Object(p.jsx)("button",{onClick:function(){return I(!0)},className:"clr-light fs-body ff-mono fw3 ttc selection-transparent hover-opacity br3 bn bg--dark-red pa3 ml-auto",style:{gridColumnStart:"3"},children:"delete budget"})]})]})}),D=(n(84),function(e){var t=e.budget,n=e.formattedBudget,a=e.entries,s=e.formattedEntries,r=e.currentBudgetIndex,c=e.editBudgetName,i=e.editProjectedMonthlyIncome,d=e.editActualMonthlyIncome,l=e.isEditingBudgetName,o=e.isEditingProjectedMonthlyIncome,u=e.isEditingActualMonthlyIncome,g=e.handleBudgetNameChange,h=e.handleProjectedMonthlyIncomeChange,b=e.handleActualMonthlyIncomeChange,m=e.handleAddEntryInputChange,j=e.handleKeyDown,f=e.handleAddEntry,y=e.handleDeleteEntry,w=e.editCategory,v=e.editProjectedCost,x=e.editActualCost,O=e.isEditingCategory,C=e.isEditingProjectedCost,N=e.isEditingActualCost,I=e.isEditingEntryId,B=e.handleCategoryChange,M=e.handleProjectedCostChange,D=e.handleActualCostChange,P=e.handleSaveBudget,L=e.handleCreateBudgetCopy,A=e.handleClickedDeleteBudget,T=e.handleDeleteBudget,K=e.clickedDeleteBudget,U=e.input,F=e.setTooltip,G=e.clearTooltip,H=e.toggledExpandNav;return Object(p.jsxs)("div",{className:"Budget flex items-start pa4",children:[Object(p.jsx)(S,{classlist:"flex-grow-1 mh3",toggledExpandNav:H,children:Object(p.jsx)(k,{budget:t,entries:a,formattedEntries:s,currentBudgetIndex:r,editBudgetName:c,isEditingBudgetName:l,handleBudgetNameChange:g,handleAddEntryInputChange:m,handleKeyDown:j,handleAddEntry:f,handleDeleteEntry:y,editCategory:w,editProjectedCost:v,editActualCost:x,isEditingCategory:O,isEditingProjectedCost:C,isEditingActualCost:N,isEditingEntryId:I,handleCategoryChange:B,handleProjectedCostChange:M,handleActualCostChange:D,handleSaveBudget:P,handleCreateBudgetCopy:L,handleClickedDeleteBudget:A,handleDeleteBudget:T,clickedDeleteBudget:K,input:U,setTooltip:F,clearTooltip:G})}),Object(p.jsx)(S,{classlist:"mh3",toggledExpandNav:H,children:Object(p.jsx)(E,{budget:t,formattedBudget:n,editProjectedMonthlyIncome:i,editActualMonthlyIncome:d,isEditingProjectedMonthlyIncome:o,isEditingActualMonthlyIncome:u,handleProjectedMonthlyIncomeChange:h,handleActualMonthlyIncomeChange:b,handleKeyDown:j,setTooltip:F,clearTooltip:G})})]})}),P=function(e){var t=e.user,n=e.handleCreateBudget,a=e.handleViewBudget,s=e.handleSaveBudgets,r=e.currentBudgetIndex,c=e.handleKeyDown,i=e.toggledExpandNav;return Object(p.jsx)("div",{className:"flex justify-center pa4 tc",children:Object(p.jsx)("div",{className:"w-100",style:{maxWidth:"42rem"},children:Object(p.jsx)(S,{toggledExpandNav:i,children:Object(p.jsxs)("div",{className:"pv5 ph4",children:[Object(p.jsx)("h1",{className:"clr-light fs-subheading fw3 mb3 text-break",children:0===t.budgets.length?"".concat(t.displayName,", you don't have any budgets."):1===t.budgets.length?"".concat(t.displayName,", here's your budget."):Object(p.jsxs)(p.Fragment,{children:[t.displayName,", here are your"," ",Object(p.jsxs)("span",{className:"clr-accent-light fw6",children:[" ",t.budgets.length," "]}),"budgets."]})}),Object(p.jsx)("ul",{className:"list pl0",children:0===t.budgets.length?null:t.budgets.map((function(e,t){return Object(p.jsx)("li",{onClick:function(){return a(t)},tabIndex:0,onKeyDown:c((function(){return a(t)})),className:"clr-light fs-subtitle fw3 hover-opacity pointer text-break mv3 ph1\n                  ".concat(t===r?"clr-accent-light fw6":""),children:e.name},e.id)}))}),Object(p.jsxs)("div",{className:"flex mt5",children:[Object(p.jsx)("button",{onClick:n,className:"clr-light fs-body ff-mono fw3 ttc selection-transparent hover-opacity br3 bn bg--accent-dark pa3 mr2 w-100",style:{width:"max-content"},children:"new budget"}),Object(p.jsx)("button",{onClick:s,className:"clr-light fs-body ff-mono fw3 ttc selection-transparent hover-opacity br3 bn bg--green pa3 ml2 w-100",style:{width:"max-content"},children:"save budgets"})]})]})})})})},L=function(e){var t=e.user,n=e.input,a=e.windowMessageCode,s=e.isGuest,r=e.handleDisplayNameInputChange,c=e.handleDisplayNameChange,i=e.handlePasswordInputChange,d=e.handleNewPasswordInputChange,l=e.handlePasswordChange,o=e.handleKeyDown,u=e.handleBackgroundChange,g=e.backgrounds,h=e.currentBackground,b=e.maxBudgets,m=e.savedBudgets,j=e.toggledExpandNav,f=e.getPasswordInputStyle;return Object(p.jsx)("div",{className:"flex justify-center pa4 tc",children:Object(p.jsx)("div",{className:"w-100",style:{maxWidth:"42rem"},children:Object(p.jsx)(S,{toggledExpandNav:j,children:Object(p.jsxs)("div",{className:"pv5 ph4",children:[Object(p.jsx)("h1",{className:"fs-subheading fw3 text-break",children:t.displayName}),Object(p.jsxs)("h2",{className:"clr-light-accent fs-body fw3 text-break mb5",children:[t.budgets.length,"/",b," budgets \u2027 ",m.length," ","saved"]}),Object(p.jsxs)("div",{className:"mb4",children:[Object(p.jsx)("h2",{className:"clr-light fs-body fw3 mb3",children:"Backgrounds"}),Object(p.jsx)("div",{className:"flex flex-wrap justify-center",children:g.map((function(e,t){return Object(p.jsx)("button",{onClick:u,className:"clr-light fs-body ff-mono fw3 ttc selection-transparent hover-opacity br3 bn bg--accent-dark mr3 mb3 pa2\n      ".concat(e.name===h.name?"fw6":"","\n      "),children:e.name},t)}))})]}),Object(p.jsxs)("div",{className:"mb4",children:[Object(p.jsx)("h2",{className:"clr-light fs-body fw3 mb3",children:"Change display name"}),Object(p.jsx)("div",{className:"flex",children:Object(p.jsxs)("div",{className:"relative flex-grow-1",children:[Object(p.jsx)("input",{className:"input input-indicator br3 ph3 pb1 w-100",onChange:r,onKeyDown:o(c),style:{paddingTop:"15px"},type:"text",name:"display-name",value:n.displayName.value,maxLength:n.displayName.maxLength,required:!0}),Object(p.jsx)("span",{className:"floating-label small",children:"New display name"})]})})]}),s?null:Object(p.jsxs)("div",{children:[Object(p.jsx)("h2",{className:"clr-light fs-body fw3 mb3",children:"Change password"}),Object(p.jsxs)("div",{className:"flex flex-column",children:[Object(p.jsxs)("div",{className:"relative mb3",children:[Object(p.jsx)("input",{className:"input input-indicator br3 ph3 pb1 w-100\n                    ".concat(n.password.empty?"empty":"","\n                    "),onChange:i,onKeyDown:o(l),style:{paddingTop:"15px"},type:"password",name:"password",value:n.password.value,maxLength:n.password.maxLength,required:!0}),Object(p.jsx)("span",{className:"floating-label small",children:"Current password"})]}),Object(p.jsxs)("div",{className:"relative",children:[Object(p.jsx)("input",{onChange:d,onKeyDown:o(l),className:"input input-indicator br3 ph3 pb1 w-100\n                  ".concat(n.newPassword.empty?"empty":"","\n                  ").concat(f(n.newPassword),"\n                  "),style:{paddingTop:"15px"},type:"password",name:"new-password",value:n.newPassword.value,maxLength:n.newPassword.maxLength,required:!0}),Object(p.jsx)("span",{className:"floating-label small",children:"New password"})]})]}),Object(p.jsx)("h6",{className:"clr-red fs-body mt4",children:"password-empty"===a?"Please enter current password.":"new-password-empty"===a?"Please enter new password.":"new-password-length-invalid"===a?"Password should be between ".concat(n.newPassword.minLength," and ").concat(n.newPassword.maxLength," characters."):"credentials-invalid"===a?"Current password invalid.":null})]}),Object(p.jsxs)("h2",{className:"clr-light-accent fs-body fw3 mt5 mb0",children:["Member since ",t.joined.toLocaleDateString()]})]})})})})},A=function(e){var t=e.toggledExpandNav;return Object(p.jsx)("div",{className:"flex justify-center pa4",children:Object(p.jsx)(S,{toggledExpandNav:t,children:Object(p.jsx)("div",{className:"pv5 ph4",children:Object(p.jsxs)("p",{className:"clr-light fs-body mb0",children:["CSBudget is maintained by Christopher Straub and distributed under the MIT License. You can get in touch with Christopher"," ",Object(p.jsx)("a",{href:"\r\nhttp://www.chrisstraub.com/\r ",className:"clr-accent-light anchor hover-opacity",target:"_blank",style:{textDecoration:"none"},children:"here"}),"."]})})})})},T=(n(85),function(e,t,n,a){switch(e){case"user-logged-in":return"Welcome, ".concat(t.displayName,".");case"budget-saved":return a?"Sign in to save your budgets.":"Saved budget.";case"budget-copy-created":return"Created budget copy.";case"budget-name-changed":return"Changed budget name.";case"entries-max-allowed":return"Maximum number of entries created.";case"budget-deleted":return"Deleted budget.";case"projected-monthly-income-updated":return"Projected monthly income updated to ".concat(n.projectedMonthlyIncome,".");case"actual-monthly-income-updated":return"Actual monthly income updated to ".concat(n.actualMonthlyIncome,".");case"budget-created":return"Created new budget.";case"budgets-created-many":return"".concat(t.budgets.length," budgets! You're a savvy financial planner.");case"budgets-max-allowed":return"Maximum number of budgets created. That's a lot of budgets!";case"budgets-saved":return a?"Sign in to save your budgets.":0===t.budgets.length?"Saved budgets.":1===t.budgets.length?"Saved 1 budget.":"Saved ".concat(t.budgets.length," budgets.");case"display-name-changed":return"Display name changed successfully.";case"password-changed":return"Password changed successfully.";default:return null}}),K=function(e){var t=e.code,n=e.user,a=e.formattedBudget,s=e.isGuest;return Object(p.jsx)("span",{className:"message fixed pointer-events-none clr-light fs-body bg--accent-dark tc mb0 pa4 br3 br--top",style:{zIndex:"999",boxShadow:"rgba(0, 0, 0, 0.56) 0px 22px 70px 4px"},children:T(t,n,a,s)})},U=(n(86),function(e,t){switch(e){case"custom":return t;case"save-budget":return"Save budget";case"copy-budget":return"Create a copy of this budget";case"edit-budget-name":return"Edit budget name";case"edit-projected-monthly-income":return"Edit projected monthly income";case"edit-actual-monthly-income":return"Edit actual monthly income";default:return null}}),F=function(e){var t=e.tooltip,n=e.mousePosition;return t.code?Object(p.jsx)("span",{className:"fixed pointer-events-none clr-light fs-body bg--accent-dark tc mb0 pa3 br3\n    ".concat(t.showToLeft?"arrow-right":"arrow-left","\n    "),style:{left:n.x,top:n.y,transform:t.showToLeft?"translate(-100%, -50%)":"translateY( -50%)",marginLeft:t.showToLeft?"-15px":"15px",width:"max-content",maxWidth:"75vw",zIndex:"999"},children:U(t.code,t.custom)}):null},G=function(e){var t=e.backgrounds;return Object(p.jsx)("div",{className:"dn",children:t.map((function(e){return Object(p.jsx)("img",{src:e.path,alt:e.name},e.name)}))})},H=n(3),R=n.n(H),q=n(160),z=n.p+"static/media/bg1.c17b8822.webp",V=n.p+"static/media/bg2.05585106.webp",W=n.p+"static/media/bg3.c3d0fcbf.webp",Y=n.p+"static/media/bg4.bb9dbac0.webp",_=n.p+"static/media/bg5.115cac3b.webp",$=n.p+"static/media/bg6.1d8ee2f0.webp",X=n.p+"static/media/bg7.34b4eef3.webp",J=n.p+"static/media/bg8.544411e1.webp",Q=(n(157),["budgetName","addEntry","category"]),Z={route:"signup",input:{displayName:{value:"",empty:!1,maxLength:50},username:{value:"",empty:!1,maxLength:50},password:{value:"",empty:!1,minLength:6,maxLength:60},newPassword:{value:"",empty:!1,minLength:6,maxLength:60},budgetName:{maxLength:50},addEntry:{value:"",maxLength:50},category:{maxLength:50}},isEditing:{budgetName:!1,projectedMonthlyIncome:!1,actualMonthlyIncome:!1,category:!1,projectedCost:!1,actualCost:!1,entryId:null},message:{code:null,show:!1},windowMessageCode:null,tooltip:{code:null,show:!1,showToLeft:null,custom:null},mousePosition:{x:null,y:null},isLoggedIn:!1,isGuest:!1,clickedDeleteBudget:!1,toggledExpandNav:!1,maxBudgets:100,maxEntries:100,user:{id:null,displayName:"Guest",username:null,joined:null,currentBudgetIndex:0,budgetsCreated:0,budgetsDeleted:0}},ee=[{id:0,category:"Housing costs",projectedCost:1e3,actualCost:0,getDifference:function(){return this.projectedCost-this.actualCost}},{id:1,category:"Vehicle expenses",projectedCost:200,actualCost:0,getDifference:function(){return this.projectedCost-this.actualCost}},{id:2,category:"Phone bill",projectedCost:20,actualCost:0,getDifference:function(){return this.projectedCost-this.actualCost}},{id:3,category:"Groceries",projectedCost:250,actualCost:0,getDifference:function(){return this.projectedCost-this.actualCost}},{id:4,category:"Savings",projectedCost:100,actualCost:0,getDifference:function(){return this.projectedCost-this.actualCost}}],te=[{name:"banff",path:z,useDarkLanding:!0,initial:!0},{name:"machu picchu",path:V,useDarkLanding:!0,initial:!0},{name:"alpine mountains",path:W,useDarkLanding:!1,initial:!0},{name:"yosemite valley",path:Y,useDarkLanding:!0,initial:!0},{name:"grand canyon",path:$,useDarkLanding:!1,initial:!1},{name:"trail",path:X,useDarkLanding:!1,initial:!1},{name:"mittenwald",path:_,useDarkLanding:!1,initial:!1},{name:"silhouette",path:J,useDarkLanding:!1,initial:!1}],ne=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}),ae=function(e,t){return function(e){var t=Object.entries(e).map((function(e){return e[1].startsWith("-")?[e[0],e[1].replace("-","(").concat(")")]:e}));return Object.fromEntries(t)}(function(e,t){return{projectedMonthlyIncome:t.format(e.projectedMonthlyIncome),actualMonthlyIncome:t.format(e.actualMonthlyIncome),projectedBalance:t.format(e.getProjectedBalance()),actualBalance:t.format(e.getActualBalance()),differenceBalance:t.format(e.getDifferenceBalance()),projectedCost:t.format(e.getProjectedCost()),actualCost:t.format(e.getActualCost()),differenceCost:t.format(e.getDifferenceCost())}}(e,t))},se=function(e){return e.value.length<e.minLength||e.value.length>e.maxLength?"":"valid"},re=function(e){Object(u.a)(n,e);var t=Object(g.a)(n);function n(){var e;return Object(l.a)(this,n),(e=t.call(this)).setMessage=function(t){var n=Object(d.a)(Object(d.a)({},e.state.message),{},{code:t,show:!0});e.setState({message:n})},e.clearMessage=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:4e3;e.messageTimeout&&clearTimeout(e.messageTimeout),e.messageTimeout=setTimeout((function(){var t=Object(d.a)(Object(d.a)({},e.state.message),{},{show:!1});e.setState({message:t})}),t)},e.setTooltip=function(t,n,a){var s=Object(d.a)(Object(d.a)({},e.state.tooltip),{},{code:t,show:!0,showToLeft:n.clientX/window.innerWidth>.5,custom:null!==a&&void 0!==a?a:null}),r=Object(d.a)(Object(d.a)({},e.state.mousePosition),{},{x:n.clientX,y:n.clientY});e.setState({tooltip:s,mousePosition:r})},e.clearTooltip=function(){var t=Object(d.a)(Object(d.a)({},e.state.tooltip),{},{code:null,show:!1,showToLeft:null,custom:null}),n=Object(d.a)(Object(d.a)({},e.state.mousePosition),{},{x:null,y:null});e.setState({tooltip:t,mousePosition:n})},e.handleBackgroundChange=function(t){if(e.state.background.name!==t.target.textContent){localStorage.setItem("background",t.target.textContent);var n=te.filter((function(e){return e.name===t.target.textContent}));e.setState({background:n[0]})}else localStorage.getItem("background")!==t.target.textContent&&localStorage.setItem("background",t.target.textContent)},e.handleAddEntryInputChange=function(t){var n=Object(d.a)(Object(d.a)({},e.state.input.addEntry),{},{value:t.target.value}),a=Object(d.a)(Object(d.a)({},e.state.input),{},{addEntry:n});e.setState({input:a})},e.getNewEntry=function(){return{id:e.state.user.budgets[e.state.user.currentBudgetIndex].entriesCreated,category:e.state.input.addEntry.value||"No category set",projectedCost:0,actualCost:0,getDifference:function(){return this.projectedCost-this.actualCost}}},e.handleAddEntry=function(){if(e.state.user.budgets[e.state.user.currentBudgetIndex].entries.length===e.state.maxEntries)return e.setMessage("entries-max-allowed"),void e.clearMessage(6e3);var t=R()(e.state.user);t.budgets[t.currentBudgetIndex].entries.push(e.getNewEntry());var n=Object(d.a)(Object(d.a)({},e.state.input.addEntry),{},{value:""});t.budgets[t.currentBudgetIndex].entriesCreated++;var a=Object(d.a)(Object(d.a)({},e.state.input),{},{addEntry:n});e.setState({user:t,input:a})},e.handleDeleteEntry=function(t){var n=R()(e.state.user),a=n.budgets[n.currentBudgetIndex].entries.filter((function(e){return e.id!==t}));n.budgets[n.currentBudgetIndex].entries=a,n.budgets[n.currentBudgetIndex].entriesDeleted++,e.setState({user:n})},e.handleClickedDeleteBudget=function(t){t?e.setState({clickedDeleteBudget:!0}):e.setState({clickedDeleteBudget:!1})},e.handleDeleteBudget=function(){var t=e.state.user.budgets.filter((function(t,n){return n!==e.state.user.currentBudgetIndex})),n=Object.assign(R()(e.state.user),{budgets:t,currentBudgetIndex:e.state.user.currentBudgetIndex>=1?e.state.user.currentBudgetIndex-1:0,budgetsDeleted:e.state.user.budgetsDeleted+1});e.setState({user:n,route:"saved-budgets",clickedDeleteBudget:!1}),e.setMessage("budget-deleted"),e.clearMessage()},e.getNewBudgetName=function(){var t,n,a=null!==(t=null===(n=e.state.user.budgets)||void 0===n?void 0:n.filter((function(e){return!/\(\d+\)$/.test(e.name)})).length)&&void 0!==t?t:0;return new Date((new Date).getFullYear(),(new Date).getMonth()+a).toLocaleDateString([],{month:"long",year:"numeric"})},e.getNewBudget=function(){return{id:e.state.user.budgetsCreated,name:e.getNewBudgetName(),lastSaved:null,entriesCreated:ee.length,entriesDeleted:0,projectedMonthlyIncome:0,actualMonthlyIncome:0,getProjectedBalance:function(){return this.projectedMonthlyIncome-this.getProjectedCost()},getActualBalance:function(){return this.actualMonthlyIncome-this.getActualCost()},getDifferenceBalance:function(){return this.getActualBalance()-this.getProjectedBalance()},getProjectedCost:function(){return this.entries.length?this.entries.map((function(e){return e.projectedCost})).reduce((function(e,t){return e+t})):0},getActualCost:function(){return this.entries.length?this.entries.map((function(e){return e.actualCost})).reduce((function(e,t){return e+t})):0},getDifferenceCost:function(){return this.getProjectedCost()-this.getActualCost()},entries:ee}},e.handleViewBudget=function(t){var n=Object(d.a)(Object(d.a)({},e.state.user),{},{currentBudgetIndex:t});e.setState({user:n,route:"budget"})},e.handleCreateBudget=function(){if(e.state.user.budgets.length===e.state.maxBudgets)return e.setMessage("budgets-max-allowed"),void e.clearMessage(6e3);var t=R()(e.state.user);if(t.budgets.push(e.getNewBudget()),t.budgetsCreated++,e.setState({user:t}),4===e.state.user.budgets.length)return e.setMessage("budgets-created-many"),void e.clearMessage(5e3);e.setMessage("budget-created"),e.clearMessage()},e.getBudgetCopyName=function(t){var n=/\(\d+\)$/;n.test(t)&&(t=t.slice(0,t.search(n)-1));var a=e.state.user.budgets.filter((function(e){return e.name.startsWith(t)&&n.test(e.name)})).map((function(e){return parseInt(e.name.slice(e.name.search(n)+1,e.name.length-1))})).sort((function(e,t){return t-e}));return t+" (".concat(a[0]+1||2,")")},e.handleCreateBudgetCopy=function(t){if(e.state.user.budgets.length===e.state.maxBudgets)return e.setMessage("budgets-max-allowed"),void e.clearMessage(6e3);var n=R()(e.state.user.budgets[t]);n.id=e.state.user.budgetsCreated,n.name=e.getBudgetCopyName(n.name),n.lastSaved=null;var a=R()(e.state.user);if(a.budgets.splice(t+1,0,n),a.budgetsCreated++,a.currentBudgetIndex=t+1,e.setState({user:a}),4===e.state.user.budgets.length)return e.setMessage("budgets-created-many"),void e.clearMessage(5e3);e.setMessage("budget-copy-created"),e.clearMessage()},e.handleSaveBudgets=function(){if(!e.state.isGuest){var t=R()(e.state.user);t.budgets=t.budgets.map((function(e){return Object(d.a)(Object(d.a)({},e),{},{lastSaved:new Date})})),e.setState({user:t})}e.setMessage("budgets-saved"),e.clearMessage()},e.handleSaveBudget=function(){if(!e.state.isGuest){var t=R()(e.state.user);t.budgets=t.budgets.map((function(e,n){return n===t.currentBudgetIndex?Object(d.a)(Object(d.a)({},e),{},{lastSaved:new Date}):e})),e.setState({user:t})}e.setMessage("budget-saved"),e.clearMessage()},e.editBudgetName=function(){"edit-budget-name"===e.state.tooltip.code&&e.clearTooltip();var t=Object(d.a)(Object(d.a)({},e.state.isEditing),{},{budgetName:!0});e.setState({isEditing:t})},e.editCategory=function(t){var n=Object(d.a)(Object(d.a)({},e.state.isEditing),{},{category:!0,entryId:t});e.setState({isEditing:n})},e.editProjectedCost=function(t){var n=Object(d.a)(Object(d.a)({},e.state.isEditing),{},{projectedCost:!0,entryId:t});e.setState({isEditing:n})},e.editActualCost=function(t){var n=Object(d.a)(Object(d.a)({},e.state.isEditing),{},{actualCost:!0,entryId:t});e.setState({isEditing:n})},e.editProjectedMonthlyIncome=function(){var t=Object(d.a)(Object(d.a)({},e.state.isEditing),{},{projectedMonthlyIncome:!0});e.setState({isEditing:t})},e.editActualMonthlyIncome=function(){var t=Object(d.a)(Object(d.a)({},e.state.isEditing),{},{actualMonthlyIncome:!0});e.setState({isEditing:t})},e.handleBudgetNameChange=function(t){if(t.target.value.trim()&&t.target.value!==e.state.user.budgets[e.state.user.currentBudgetIndex].name){var n=R()(e.state.user);n.budgets[e.state.user.currentBudgetIndex].name=t.target.value,e.setState({user:n}),e.setMessage("budget-name-changed"),e.clearMessage()}var a=Object(d.a)(Object(d.a)({},e.state.isEditing),{},{budgetName:!1,entryId:null});e.setState({isEditing:a})},e.handleCategoryChange=function(t,n){var a=e.state.user.budgets[e.state.user.currentBudgetIndex].entries.filter((function(e){return e.id===t}));if(n.target.value.trim()&&n.target.value!==a.category){var s=R()(e.state.user),r=s.budgets[e.state.user.currentBudgetIndex].entries.map((function(e){return e.id===t?(e.category=n.target.value,e):e}));s.budgets[e.state.user.currentBudgetIndex].entries=r,e.setState({user:s})}var c=Object(d.a)(Object(d.a)({},e.state.isEditing),{},{category:!1});e.setState({isEditing:c})},e.handleProjectedCostChange=function(t,n){var a=n.target.value;if(Math.round(100*a)/100!==e.state.user.budgets[e.state.user.currentBudgetIndex].entries.filter((function(e){return e.id===t}))[0].projectedCost&&e.numberIsValid(a)){var s=R()(e.state.user),r=s.budgets[s.currentBudgetIndex].entries.map((function(e){return e.id===t?Object(d.a)(Object(d.a)({},e),{},{projectedCost:Math.round(100*a)/100}):e}));s.budgets[e.state.user.currentBudgetIndex].entries=r,e.setState({user:s})}var c=Object(d.a)(Object(d.a)({},e.state.isEditing),{},{projectedCost:!1,entryId:null});e.setState({isEditing:c})},e.handleActualCostChange=function(t,n){var a=n.target.value;if(Math.round(100*a)/100!==e.state.user.budgets[e.state.user.currentBudgetIndex].entries.filter((function(e){return e.id===t}))[0].actualCost&&e.numberIsValid(a)){var s=R()(e.state.user),r=s.budgets[s.currentBudgetIndex].entries.map((function(e){return e.id===t?Object(d.a)(Object(d.a)({},e),{},{actualCost:Math.round(100*a)/100}):e}));s.budgets[e.state.user.currentBudgetIndex].entries=r,e.setState({user:s})}var c=Object(d.a)(Object(d.a)({},e.state.isEditing),{},{actualCost:!1,entryId:null});e.setState({isEditing:c})},e.handleProjectedMonthlyIncomeChange=function(t){var n=t.target.value;if(Math.round(100*n)/100!==e.state.user.budgets[e.state.user.currentBudgetIndex].projectedMonthlyIncome&&e.numberIsValid(n)){var a=R()(e.state.user);a.budgets[a.currentBudgetIndex].projectedMonthlyIncome=Math.round(100*n)/100,e.setState({user:a}),e.setMessage("projected-monthly-income-updated"),e.clearMessage(5e3)}var s=Object(d.a)(Object(d.a)({},e.state.isEditing),{},{projectedMonthlyIncome:!1});e.setState({isEditing:s})},e.handleActualMonthlyIncomeChange=function(t){var n=t.target.value;if(Math.round(100*n)/100!==e.state.user.budgets[e.state.user.currentBudgetIndex].actualMonthlyIncome&&e.numberIsValid(n)){var a=R()(e.state.user);a.budgets[a.currentBudgetIndex].actualMonthlyIncome=Math.round(100*n)/100,e.setState({user:a}),e.setMessage("actual-monthly-income-updated"),e.clearMessage(5e3)}var s=Object(d.a)(Object(d.a)({},e.state.isEditing),{},{actualMonthlyIncome:!1});e.setState({isEditing:s})},e.numberIsValid=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MIN_SAFE_INTEGER,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.MAX_SAFE_INTEGER;return e<=n&&e>=t},e.handleDisplayNameInputChange=function(t){var n=Object(d.a)(Object(d.a)({},e.state.input.displayName),{},{value:t.target.value,empty:!1}),a=Object(d.a)(Object(d.a)({},e.state.input),{},{displayName:n});e.setState({input:a})},e.handleDisplayNameChange=function(){if(e.state.input.displayName.value.trim()&&e.state.input.displayName.value!==e.state.user.displayName){var t=R()(e.state.input);t.displayName.value="";var n=Object(d.a)(Object(d.a)({},e.state.user),{},{displayName:e.state.input.displayName.value});e.setState({input:t,user:n}),e.setMessage("display-name-changed"),e.clearMessage()}},e.handleUsernameInputChange=function(t){var n=Object(d.a)(Object(d.a)({},e.state.input.username),{},{value:t.target.value,empty:!1}),a=Object(d.a)(Object(d.a)({},e.state.input),{},{username:n});e.setState({input:a})},e.handlePasswordInputChange=function(t){var n=Object(d.a)(Object(d.a)({},e.state.input.password),{},{value:t.target.value,empty:!1}),a=Object(d.a)(Object(d.a)({},e.state.input),{},{password:n});e.setState({input:a})},e.handleNewPasswordInputChange=function(t){var n=Object(d.a)(Object(d.a)({},e.state.input.newPassword),{},{value:t.target.value,empty:!1}),a=Object(d.a)(Object(d.a)({},e.state.input),{},{newPassword:n});e.setState({input:a})},e.handlePasswordChange=function(){if(e.state.input.newPassword.value&&!e.state.input.password.value){var t=Object(d.a)(Object(d.a)({},e.state.input.password),{},{empty:!0}),n=Object(d.a)(Object(d.a)({},e.state.input),{},{password:t});e.setState({input:n,windowMessageCode:"password-empty"})}else if(e.state.input.password.value&&!e.state.input.newPassword.value){var a=Object(d.a)(Object(d.a)({},e.state.input.newPassword),{},{empty:!0}),s=Object(d.a)(Object(d.a)({},e.state.input),{},{newPassword:a});e.setState({input:s,windowMessageCode:"new-password-empty"})}else if(e.state.input.newPassword.value.length<e.state.input.newPassword.minLength||e.state.input.newPassword.value.length>e.state.input.newPassword.maxLength){var r=Object(d.a)(Object(d.a)({},e.state.input.newPassword),{},{empty:!0}),c=Object(d.a)(Object(d.a)({},e.state.input),{},{newPassword:r});e.setState({input:c,windowMessageCode:"new-password-length-invalid"})}else if(e.state.input.password.value.length<e.state.input.password.minLength||e.state.input.password.value.length>e.state.input.password.maxLength){var i=Object(d.a)(Object(d.a)({},e.state.input.password),{},{empty:!0}),l=Object(d.a)(Object(d.a)({},e.state.input),{},{password:i});e.setState({input:l,windowMessageCode:"credentials-invalid"})}else{var o=R()(e.state.input);o.password.value="",o.newPassword.value="",e.setState({input:o,windowMessageCode:null}),e.setMessage("password-changed"),e.clearMessage()}},e.handleSignUp=function(){if(e.state.input.displayName.value.trim()&&e.state.input.username.value.trim()&&e.state.input.newPassword.value)if(e.state.input.newPassword.value.length<e.state.input.newPassword.minLength||e.state.input.newPassword.value.length>e.state.input.newPassword.maxLength){var t=Object(d.a)(Object(d.a)({},e.state.input.newPassword),{},{empty:!0}),n=Object(d.a)(Object(d.a)({},e.state.input),{},{newPassword:t});e.setState({input:n,windowMessageCode:"new-password-length-invalid"})}else e.setState({windowMessageCode:null});else{var a=Object(d.a)({},e.state.input);if(e.state.input.displayName.value.trim()){var s=Object(d.a)(Object(d.a)({},e.state.input.displayName),{},{empty:!1});a.displayName=s}else{var r=Object(d.a)(Object(d.a)({},e.state.input.displayName),{},{empty:!0});a.displayName=r}if(e.state.input.username.value.trim()){var c=Object(d.a)(Object(d.a)({},e.state.input.username),{},{empty:!1});a.username=c}else{var i=Object(d.a)(Object(d.a)({},e.state.input.username),{},{empty:!0});a.username=i}if(e.state.input.newPassword.value){var l=Object(d.a)(Object(d.a)({},e.state.input.newPassword),{},{empty:!1});a.newPassword=l}else{var o=Object(d.a)(Object(d.a)({},e.state.input.newPassword),{},{empty:!0});a.newPassword=o}e.setState({input:a,windowMessageCode:"fields-empty"})}},e.handleSignIn=function(){if(e.state.input.username.value.trim()||e.state.input.password.value)if(e.state.input.username.value.trim())if(e.state.input.password.value)e.state.input.password.value.length<e.state.input.password.minLength||e.state.input.password.value.length>e.state.input.password.maxLength?e.setState({windowMessageCode:"credentials-invalid"}):e.setState({windowMessageCode:null});else{e.setState({windowMessageCode:"password-empty"});var t=Object(d.a)(Object(d.a)({},e.state.input.password),{},{empty:!0}),n=Object(d.a)(Object(d.a)({},e.state.input),{},{password:t});e.setState({input:n})}else{e.setState({windowMessageCode:"username-empty"});var a=Object(d.a)(Object(d.a)({},e.state.input.username),{},{empty:!0}),s=Object(d.a)(Object(d.a)({},e.state.input),{},{username:a});e.setState({input:s})}else{var r=R()(e.state.input);r.username.empty=!0,r.password.empty=!0,e.setState({windowMessageCode:"fields-empty",input:r})}},e.handleKeyDown=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Enter";return function(n){n.target.value&&n.code===t&&e()}},e.handleToggledExpandNav=function(){e.setState({toggledExpandNav:!e.state.toggledExpandNav})},e.handleRouteChange=function(t){if("budget"===t&&0===e.state.user.budgets.length)e.handleCreateBudget(),e.setState({route:"budget"});else if(t===e.state.route||"signup"===t||"signin"===t||e.state.isLoggedIn||e.state.isGuest)if(t!==e.state.route&&"signup"!==t&&"signin"!==t&&!e.state.isLoggedIn&&e.state.isGuest){var n=Object(d.a)(Object(d.a)({},e.state.user),{},{joined:new Date});e.setState({user:n,route:t,input:Z.input,windowMessageCode:null,isLoggedIn:!0}),setTimeout((function(){return e.setMessage("user-logged-in")}),0),e.clearMessage(6e3)}else if(t===e.state.route||"signup"!==t&&"signin"!==t||!e.state.isLoggedIn)"signin"!==t&&"signup"!==t||"signin"!==e.state.route&&"signup"!==e.state.route?t!==e.state.route&&e.setState({route:t}):e.setState({input:Z.input,windowMessageCode:null,route:t});else{e.clearMessage(0);var a=Object(d.a)(Object(d.a)({},R()(Z)),{},{background:e.state.background});e.setState(a)}else{localStorage.setItem("background",e.state.background.name);var s=Object(d.a)(Object(d.a)({},e.state.user),{},{joined:new Date});e.setState({user:s,route:t,input:Z.input,windowMessageCode:null,isLoggedIn:!0,isGuest:!1}),setTimeout((function(){return e.setMessage("user-logged-in")}),0),e.clearMessage(6e3)}},e.state=Z,e.state.user.budgets=[e.getNewBudget()],e.state.user.budgetsCreated++,e.state.background=te[0],e}return Object(o.a)(n,[{key:"setBackgroundFromLocalStorage",value:function(){var e=localStorage.getItem("background");if(e){var t=te.filter((function(t){return t.name===e}));0===t.length&&(t[0]=this.state.background);var n=Object(d.a)(Object(d.a)({},this.state),{},{background:t[0]});this.setState(n)}else{var a=te.filter((function(e){return e.initial})),s=a[Math.floor(Math.random()*a.length)].name,r=te.filter((function(e){return e.name===s})),c=Object(d.a)(Object(d.a)({},this.state),{},{background:r[0]});this.setState(c)}}},{key:"componentDidMount",value:function(){this.setBackgroundFromLocalStorage()}},{key:"render",value:function(){var e,t,n,a=this,s=this.state,r=s.route,c=s.message,l=s.tooltip,o=s.mousePosition,u=s.windowMessageCode,g=s.input,h=s.isEditing,b=s.isLoggedIn,m=s.isGuest,j=s.clickedDeleteBudget,v=s.toggledExpandNav,x=s.maxBudgets,O=s.user,C=s.background,I=0===O.budgets.length?ae(this.getNewBudget(),ne):ae(O.budgets[O.currentBudgetIndex],ne),B=(t=null===(e=O.budgets[O.currentBudgetIndex])||void 0===e?void 0:e.entries,n=ne,(null===t||void 0===t?void 0:t.length)?t.map((function(e){return{id:e.id,category:e.category,projectedCost:n.format(e.projectedCost),actualCost:n.format(e.actualCost),difference:n.format(e.getDifference())}})):[]),M=(g.budgetName,g.addEntry,g.category,Object(i.a)(g,Q));return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(f,{classlist:"bg--light hover-opacity br-pill o-90",children:Object(p.jsx)(y,{background:C,children:Object(p.jsxs)("div",{className:"App clr-light ff-primary fs-body",children:[Object(p.jsx)(w,{route:r,handleRouteChange:this.handleRouteChange,loggedIn:b,isGuest:m,handleToggledExpandNav:this.handleToggledExpandNav,toggledExpandNav:v}),"signin"===r||"signup"===r?Object(p.jsx)(N,{handleRouteChange:this.handleRouteChange,route:r,useDarkLanding:C.useDarkLanding,handleDisplayNameInputChange:this.handleDisplayNameInputChange,handleUsernameInputChange:this.handleUsernameInputChange,handlePasswordInputChange:this.handlePasswordInputChange,handleNewPasswordInputChange:this.handleNewPasswordInputChange,handleKeyDown:this.handleKeyDown,handleSignUp:this.handleSignUp,handleSignIn:this.handleSignIn,windowMessageCode:u,input:M,getPasswordInputStyle:se}):"budget"===r?Object(p.jsx)(D,{budget:O.budgets[O.currentBudgetIndex],formattedBudget:I,entries:O.budgets[O.currentBudgetIndex].entries,formattedEntries:B,currentBudgetIndex:O.currentBudgetIndex,handleSaveBudget:this.handleSaveBudget,handleCreateBudgetCopy:this.handleCreateBudgetCopy,editBudgetName:this.editBudgetName,editProjectedMonthlyIncome:this.editProjectedMonthlyIncome,editActualMonthlyIncome:this.editActualMonthlyIncome,isEditingBudgetName:h.budgetName,isEditingProjectedMonthlyIncome:h.projectedMonthlyIncome,isEditingActualMonthlyIncome:h.actualMonthlyIncome,handleBudgetNameChange:this.handleBudgetNameChange,handleProjectedMonthlyIncomeChange:this.handleProjectedMonthlyIncomeChange,handleActualMonthlyIncomeChange:this.handleActualMonthlyIncomeChange,handleAddEntryInputChange:this.handleAddEntryInputChange,handleKeyDown:this.handleKeyDown,handleAddEntry:this.handleAddEntry,handleDeleteEntry:this.handleDeleteEntry,editCategory:this.editCategory,editProjectedCost:this.editProjectedCost,editActualCost:this.editActualCost,isEditingCategory:h.category,isEditingProjectedCost:h.projectedCost,isEditingActualCost:h.actualCost,isEditingEntryId:h.entryId,handleCategoryChange:this.handleCategoryChange,handleProjectedCostChange:this.handleProjectedCostChange,handleActualCostChange:this.handleActualCostChange,handleClickedDeleteBudget:this.handleClickedDeleteBudget,handleDeleteBudget:this.handleDeleteBudget,clickedDeleteBudget:j,input:g,setTooltip:this.setTooltip,clearTooltip:this.clearTooltip,toggledExpandNav:v}):"saved-budgets"===r?Object(p.jsx)(P,{user:O,handleViewBudget:this.handleViewBudget,handleCreateBudget:this.handleCreateBudget,handleSaveBudgets:this.handleSaveBudgets,currentBudgetIndex:O.currentBudgetIndex,handleKeyDown:this.handleKeyDown,toggledExpandNav:v}):"profile"===r?Object(p.jsx)(L,{user:O,input:g,windowMessageCode:u,isGuest:m,toggledExpandNav:v,handleDisplayNameInputChange:this.handleDisplayNameInputChange,handleDisplayNameChange:this.handleDisplayNameChange,handlePasswordInputChange:this.handlePasswordInputChange,handleNewPasswordInputChange:this.handleNewPasswordInputChange,handlePasswordChange:this.handlePasswordChange,handleKeyDown:this.handleKeyDown,handleBackgroundChange:this.handleBackgroundChange,backgrounds:te,currentBackground:C,maxBudgets:x,savedBudgets:O.budgets.filter((function(e){return e.lastSaved})),getPasswordInputStyle:se}):"about"===r?Object(p.jsx)(A,{toggledExpandNav:v}):null,"signup"===r||"signin"===r?null:Object(p.jsx)(q.a,{in:c.show,classNames:"message",timeout:500,unmountOnExit:!0,onExited:function(){var e=Object(d.a)(Object(d.a)({},a.state.message),{},{code:null});a.setState({message:e})},children:Object(p.jsx)(K,{code:c.code,user:O,formattedBudget:I,isGuest:m})}),Object(p.jsx)(q.a,{in:l.show,classNames:"tooltip",timeout:1e3,unmountOnExit:!0,children:Object(p.jsx)(F,{tooltip:l,mousePosition:o})})]})})}),Object(p.jsx)(G,{backgrounds:te})]})}}]),n}(a.Component);c.a.render(Object(p.jsx)(re,{}),document.getElementById("root"))},80:function(e,t,n){},81:function(e,t,n){},82:function(e,t,n){},83:function(e,t,n){},84:function(e,t,n){},85:function(e,t,n){},86:function(e,t,n){}},[[158,1,2]]]);
//# sourceMappingURL=main.c50b58dc.chunk.js.map